<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Káren Patussi</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand:#1A5D66;
      --text:#0b0d0f;
      --muted:#26343a;

      --safeT: env(safe-area-inset-top, 0px);
      --safeR: env(safe-area-inset-right, 0px);
      --safeB: env(safe-area-inset-bottom, 0px);
      --safeL: env(safe-area-inset-left, 0px);

      --padX: clamp(16px, 6vw, 120px);
      --headerH: 56px;

      --treeYOffset: clamp(10px, 2vh, 34px);
      --treeScale: 0.92;
      --treeOpacity: 0.92;
      --treeBreathDur: 14s;
      --treeBreathAmp: 0.045;
      --treePushZ: 60px;
      --treeBreathShadowA: 0.16;
      --treeBreathShadowB: 0.26;

      --glowOpacity: 0.16;
      --glowDur: 6.2s;
      --glowBlur: 10px;
      --glowColor: rgba(26,93,102,.48);

      --menuGlass: 0.52;
      --menuBlur: 26px;
      --menuBorder: rgba(0,0,0,.07);
      --menuShadow: 0 22px 72px rgba(0,0,0,.18);
      --menuEase: cubic-bezier(.16, 1, .18, 1);

      --menuDrawerDur: 720ms;
      --menuBgDur: 520ms;
      --menuItemDur: 820ms;
      --menuItemEase: cubic-bezier(.16, 1, .16, 1);
      --menuItemStagger: 70ms;
      --menuItemDelayBase: 110ms;
      --menuItemOffsetX: 34px;
      --menuItemScaleXFrom: .78;
      --menuItemBlur: 1.4px;

      --cardRadius: 18px;
      --cardPad: clamp(18px, 2.2vw, 24px);
      --cardGlass: 0.52;
      --cardBlur: 16px;
      --cardBorder: rgba(0,0,0,.055);
      --cardShadow: 0 18px 54px rgba(0,0,0,.10);

      --stepDistanceDown: 320;
      --stepDistanceUp: 380;
      --deadZone: 2.5;
      --stepCooldown: 70ms;

      --easeDurName: 900ms;
      --easeDurRole: 1500ms;

      --liftName: 140px;
      --liftRole: 120px;

      --fadeBlur: 1.6px;

      --loaderDur: 3000ms;
      --loaderLogoW: min(140px, 28vw);
      --loaderFade: 820ms;
      --loaderEase: cubic-bezier(.16, 1, .18, 1);

      --siteReveal: 980ms;
      --siteRevealEase: cubic-bezier(.14, 1, .16, 1);

      --cardStickyTop: calc(var(--headerH) + var(--safeT) + 26px);
      --cardFromVw: 10;
      --cardFullVw: 92;
      --cardMaxW: 980px;

      --cardLag: 0.55;
      --wheelScale: 0.55;
      --wheelTrigger: 135;
      --sceneLockMs: 1350ms;

      --cardScrollTopPad: 14px;
      --cardScrollBottomPad: 28px;
      --cardScrollMaxH: calc(100dvh - var(--cardStickyTop) - 34px);

      --cardEndSpacer: 72px;

      --bodyFont: "Inter", system-ui, sans-serif;
      --titleFont: "Playfair Display", serif;

      --paraSize: 14.5px;
      --paraLine: 1.9;

      --cardFloatAmp: 3px;
      --cardFloatDur: 8.6s;

      --softInk: rgba(20,28,32,.92);
      --softInk2: rgba(20,28,32,.78);
      --softBorder: rgba(0,0,0,.07);
      --softGlass: rgba(255,255,255,.90);

      /* ✅ BOLHAS (6) */
      --bubbleSize: 18px;
      --bubbleOpacity: .14;
      --bubbleOpacityActive: .26;
      --bubbleIridescenceA: rgba(255, 120, 200, .10);
      --bubbleIridescenceB: rgba(120, 220, 255, .10);
      --bubbleIridescenceC: rgba(255, 255, 255, .14);
      --bubbleGlow: rgba(26,93,102,.14);
      --bubbleBlur: 16px;
      --bubbleShadow: 0 22px 70px rgba(0,0,0,.12);
      --bubbleFloatDur: 13.8s;
      --bubbleFloatAmp: 7px;
      --bubblePopAt: .34;
      --bubblePopScale: 4.2;

      /* CONTATO (card) */
      --contactRevealDur: 520ms;
      --contactRevealEase: cubic-bezier(.16, 1, .18, 1);

      /* ✅ RODAPÉ (quase imperceptível) */
      --footerGlass: .18;
      --footerBlur: 18px;
      --footerBorder: rgba(0,0,0,.05);
      --footerInk: rgba(20,28,32,.55);
      --footerInk2: rgba(20,28,32,.42);
      --footerRadius: 16px;
      --footerPadY: 14px;
      --footerPadX: 14px;
    }

    /* ========================= RESPONSIVO (tablet/mobile) ========================= */
    @media (max-width: 980px){
      :root{
        --padX: clamp(14px, 5vw, 44px);
        --cardFullVw: 94;
        --cardFromVw: 14;
        --cardMaxW: 920px;
        --wheelTrigger: 120;
        --wheelScale: 0.62;
        --cardStickyTop: calc(var(--headerH) + var(--safeT) + 18px);
        --cardScrollMaxH: calc(100dvh - var(--cardStickyTop) - 22px);
      }
    }

    @media (max-width: 720px){
      :root{
        --headerH: 54px;
        --padX: 16px;
        --cardPad: 18px;
        --cardFullVw: 96;
        --cardFromVw: 18;
        --cardMaxW: 96vw;
        --paraSize: 14.2px;
        --paraLine: 1.85;
        --wheelTrigger: 110;
        --wheelScale: 0.75;
        --sceneLockMs: 1180ms;
        --cardStickyTop: calc(var(--headerH) + var(--safeT) + 14px);
        --cardScrollMaxH: calc(100dvh - var(--cardStickyTop) - 18px);
        --cardEndSpacer: 84px;
        --bubbleSize: 16px;
      }
    }

    @media (max-width: 420px){
      :root{
        --padX: 14px;
        --cardPad: 16px;
        --cardFromVw: 22;
        --cardFullVw: 98;
        --paraSize: 14px;
        --paraLine: 1.82;
        --liftName: 120px;
        --liftRole: 105px;
        --treeScale: 0.90;
        --treeOpacity: 0.88;
        --bubbleSize: 15px;
      }
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ scroll-behavior:smooth; scrollbar-width: none; -ms-overflow-style: none; }
    body{ scrollbar-width: none; -ms-overflow-style: none; }
    html::-webkit-scrollbar, body::-webkit-scrollbar{ width:0 !important; height:0 !important; display:none !important; }

    body{
      margin:0;
      font-family: var(--bodyFont);
      position: relative;
      overflow-x:hidden;
      color: var(--text);
      background: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      font-feature-settings: "kern" 1, "liga" 1;
    }

    /* ✅ AJUSTE: arquivos agora em /imagens */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -6;
      background-image: url("./imagens/fundo textura.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(1.03);
    }

    body::after{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -5;
      pointer-events: none;
      background:
        radial-gradient(1100px 720px at 50% 32%, rgba(255,255,255,.28), rgba(255,255,255,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
    }

    /* ========================= ÁRVORE FIXA ========================= */
    .bg-stage{
      position: fixed;
      inset: 0;
      z-index: -3;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events: none;
      transform: translateY(var(--treeYOffset));
    }
    .tree{
      width: min(74vw, 74vh);
      height: min(74vw, 74vh);
      opacity: var(--treeOpacity);
      position: relative;
      transform-style: preserve-3d;
      will-change: filter;
      animation: treeBreath var(--treeBreathDur) ease-in-out infinite;
    }
    .tree img{
      width: 100%;
      height: 100%;
      object-fit: contain;
      user-select:none;
      -webkit-user-drag:none;
      display:block;
      transform: translateZ(0) scale(var(--treeScale));
      will-change: transform;
      animation: treeScaleBreath var(--treeBreathDur) ease-in-out infinite;
    }
    @keyframes treeBreath{
      0%, 100%{ filter: drop-shadow(0 28px 70px rgba(0,0,0,var(--treeBreathShadowA))) brightness(.98); }
      50%{ filter: drop-shadow(0 48px 130px rgba(0,0,0,var(--treeBreathShadowB))) brightness(1.03); }
    }
    @keyframes treeScaleBreath{
      0%, 100%{ transform: translateZ(0) scale(calc(var(--treeScale) * (1 - var(--treeBreathAmp)))); }
      50%{ transform: translate3d(0,0,var(--treePushZ)) scale(calc(var(--treeScale) * (1 + var(--treeBreathAmp)))); }
    }
    .tree::after{
      content:"";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        linear-gradient(180deg,
          rgba(255,255,255,0) 0%,
          rgba(255,255,255,0) 35%,
          rgba(255,255,255,.50) 50%,
          rgba(255,255,255,0) 65%,
          rgba(255,255,255,0) 100%),
        radial-gradient(closest-side at 50% 50%, var(--glowColor), rgba(26,93,102,0) 62%);
      background-size: 100% 220%, 120% 120%;
      background-position: 0 140%, 50% 160%;
      background-repeat: no-repeat;
      opacity: var(--glowOpacity);
      filter: blur(var(--glowBlur));
      mix-blend-mode: screen;

      -webkit-mask-image: url("./imagens/Tree ring hero.png");
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-size: contain;
      -webkit-mask-position: center;
      mask-image: url("./imagens/Tree ring hero.png");
      mask-repeat: no-repeat;
      mask-size: contain;
      mask-position: center;

      animation: glowRise var(--glowDur) cubic-bezier(.3, 0, .2, 1) infinite;
      will-change: opacity, background-position;
    }
    @keyframes glowRise{
      0% { opacity: 0; background-position: 0 140%, 50% 160%; }
      12% { opacity: var(--glowOpacity); }
      58% { opacity: var(--glowOpacity); background-position: 0 22%, 50% 40%; }
      86% { opacity: calc(var(--glowOpacity) * 0.60); background-position: 0 -36%, 50% -10%; }
      100% { opacity: 0; background-position: 0 -70%, 50% -40%; }
    }

    /* ========================= BOLHAS (6) ========================= */
    .bubbles-stage{ position: fixed; inset: 0; z-index: 1; pointer-events: none; }
    @keyframes bubbleFloat{
      0%,100%{ transform: translate3d(var(--ox), var(--oy), 0) scale(var(--os)); }
      50%{ transform: translate3d(var(--ox), calc(var(--oy) - var(--bubbleFloatAmp)), 0) scale(var(--os)); }
    }
    .bubble{
      position:absolute; left: 0; top: 0;
      width: var(--bubbleSize); height: var(--bubbleSize);
      border-radius: 999px;
      background:
        radial-gradient(closest-side at 28% 24%, rgba(255,255,255,.22), rgba(255,255,255,0) 58%),
        conic-gradient(from 210deg,
          rgba(255,255,255,0) 0deg,
          var(--bubbleIridescenceA) 70deg,
          rgba(255,255,255,0) 140deg,
          var(--bubbleIridescenceB) 220deg,
          rgba(255,255,255,0) 300deg,
          var(--bubbleIridescenceC) 360deg),
        radial-gradient(closest-side at 55% 62%, var(--bubbleGlow), rgba(26,93,102,0) 72%);
      box-shadow: var(--bubbleShadow);
      border: 1px solid rgba(255,255,255,.22);
      outline: 1px solid rgba(26,93,102,.10);
      outline-offset: -1px;
      backdrop-filter: blur(var(--bubbleBlur)) saturate(1.05);
      -webkit-backdrop-filter: blur(var(--bubbleBlur)) saturate(1.05);
      opacity: var(--bo);
      filter: blur(var(--bb));
      will-change: transform, opacity, filter;

      --ox: calc(var(--x, 0) * 1px);
      --oy: calc(var(--y, 0) * 1px);
      --os: var(--s, 1);

      transform: translate3d(var(--ox), var(--oy), 0) scale(var(--os));
      animation: bubbleFloat var(--bubbleFloatDur) ease-in-out infinite;
      animation-delay: calc(var(--d, 0) * 1s);
    }

    /* ========================= LOADER ========================= */
    .loader{
      position: fixed; inset: 0; z-index: 9999;
      display:flex; align-items:center; justify-content:center;
      padding: calc(20px + var(--safeT)) calc(20px + var(--safeR)) calc(20px + var(--safeB)) calc(20px + var(--safeL));
      background:
        radial-gradient(920px 680px at 50% 38%, rgba(255,255,255,.10), rgba(255,255,255,0) 58%),
        linear-gradient(180deg, rgba(0,0,0,.16), rgba(0,0,0,.08)),
        var(--brand);
      opacity: 1; visibility: visible;
      transform: translateZ(0) scale(1);
      transition:
        opacity var(--loaderFade) var(--loaderEase),
        transform var(--loaderFade) var(--loaderEase),
        visibility var(--loaderFade) var(--loaderEase);
      will-change: opacity, transform;
    }
    .loader.is-hidden{ opacity: 0; visibility: hidden; transform: scale(1.02); pointer-events: none; }

    .loader-wrap{
      display:flex; flex-direction: column;
      align-items: center; gap: 14px; text-align:center;
      transform: translateZ(0);
    }

    /* ✅ AQUI: Logo.PNG (case-sensitive) */
    .loader-logoMark{
      width: var(--loaderLogoW);
      aspect-ratio: 1 / 1;
      position: relative;
      background: rgba(255,255,255,.18);
      -webkit-mask-image: url("./imagens/Logo.PNG");
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;
      -webkit-mask-size: contain;
      mask-image: url("./imagens/Logo.PNG");
      mask-repeat: no-repeat;
      mask-size: contain;
      mask-position: center;
      filter: drop-shadow(0 16px 44px rgba(0,0,0,.28));
      transform: translateZ(0);
    }
    .loader-logoMark::after{
      content:"";
      position:absolute; left:-15%; right:-15%;
      height: 22px; bottom: -20%;
      background: linear-gradient(
        180deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255, .62) 35%,
        rgba(255,255,255, .95) 55%,
        rgba(255,255,255, .55) 75%,
        rgba(255,255,255,0) 100%
      );
      filter: blur(8px);
      animation: scanUp 1150ms cubic-bezier(.16, 1, .22, 1) infinite;
      will-change: transform;
    }
    @keyframes scanUp{
      0% { transform: translateY(140%); }
      100% { transform: translateY(-380%); }
    }

    .loader-fallbackImg{
      width: var(--loaderLogoW);
      height: auto;
      display:none;
      filter: drop-shadow(0 16px 44px rgba(0,0,0,.28));
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }
    @supports not ((-webkit-mask-image: url("x.png")) or (mask-image: url("x.png"))){
      .loader-logoMark{ display:none; }
      .loader-fallbackImg{ display:block; }
    }

    .loader-sub{
      margin: 0;
      font-size: 11px;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
      user-select:none;
      font-family: var(--bodyFont);
    }
    
    /* ✅ Loader progress (substitui "Carregando") */
    .loader-progress{
      width: min(260px, 72vw);
      height: 7px;
      border-radius: 999px;
      background: rgba(255,255,255,.18);
      border: 1px solid rgba(255,255,255,.20);
      overflow: hidden;
      box-shadow: 0 12px 26px rgba(0,0,0,.16);
    }
    .loader-progress > span{
      display:block;
      height: 100%;
      width: 100%;
      transform-origin: left center;
      transform: scaleX(0);
      background: rgba(255,255,255,.86);
      animation: loaderFill var(--loaderDur) cubic-bezier(.16, 1, .18, 1) forwards;
      will-change: transform;
    }
    .loader.is-done .loader-progress > span{ transform: scaleX(1); }

    @keyframes loaderFill{
      0%   { transform: scaleX(0); }
      70%  { transform: scaleX(.78); }
      100% { transform: scaleX(1); }
    }

    /* Acessibilidade: texto só para leitor de tela */
    .sr-only{
      position:absolute;
      width:1px; height:1px;
      padding:0; margin:-1px;
      overflow:hidden;
      clip: rect(0,0,0,0);
      white-space:nowrap;
      border:0;
    }

    @media (prefers-reduced-motion: reduce){
      .loader-progress > span{ animation: none; transform: scaleX(1); }
    }
body.is-loading{ overflow: hidden !important; height: 100%; touch-action: none; }

    /* ========================= TOPBAR ========================= */
    .topbar{
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 800;
      height: calc(var(--headerH) + var(--safeT));
      padding-top: var(--safeT);
      padding-left: calc(14px + var(--safeL));
      padding-right: calc(14px + var(--safeR));
      display:flex; align-items:center; justify-content:space-between; gap: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.72));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0,0,0,.07);
      transform: translateZ(0);
      opacity: 1;
      pointer-events: auto;
      will-change: transform;
    }
    .bar-title{
      display:flex; align-items:center; gap: 10px; min-width: 0;
      opacity: 0;
      transform: translate3d(0, -6px, 0);
      filter: blur(1.2px);
      pointer-events: none;
      transition:
        opacity 520ms cubic-bezier(.14, 1, .16, 1),
        transform 520ms cubic-bezier(.14, 1, .16, 1),
        filter 520ms cubic-bezier(.14, 1, .16, 1);
    }
    .topbar.show-brand .bar-title{
      opacity: 1;
      transform: translate3d(0, 0, 0);
      filter: blur(0);
      pointer-events: auto;
    }

    .logo-mark{
      width: 32px;
      height: 32px;
      background: var(--brand);
      flex: 0 0 auto;
      transform: translateZ(0);
    }
    .logo-img{
      width: 32px;
      height: 32px;
      object-fit: contain;
      display:block;
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
      transform: translateZ(0);
      flex: 0 0 auto;
    }

    /* ✅ AQUI: Logo.PNG (case-sensitive) */
    @supports ((-webkit-mask-image: url("x.png")) or (mask-image: url("x.png"))){
      .logo-img{ display:none; }
      .logo-mark{
        -webkit-mask-image: url("./imagens/Logo.PNG");
        -webkit-mask-repeat: no-repeat;
        -webkit-mask-position: center;
        -webkit-mask-size: contain;
        mask-image: url("./imagens/Logo.PNG");
        mask-repeat: no-repeat;
        mask-position: center;
        mask-size: contain;
      }
    }
    @supports not ((-webkit-mask-image: url("x.png")) or (mask-image: url("x.png"))){
      .logo-mark{ display:none; }
    }

    .bar-title .bar-name{
      font-family: var(--titleFont);
      font-weight: 900;
      letter-spacing: -0.014em;
      color: var(--brand);
      font-size: 18px;
      line-height: 1;
      white-space: nowrap;
    }
    @media (max-width: 420px){
      .bar-title .bar-name{ font-size: 16px; }
      .logo-mark, .logo-img{ width: 30px; height: 30px; }
    }

    .menu-btn{
      appearance: none;
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.52);
      border-radius: 999px;
      padding: 10px 12px;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      z-index: 810;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
      transition: transform .2s ease, background .2s ease, box-shadow .2s ease;
      touch-action: manipulation;
    }
    .menu-btn:hover{ background: rgba(255,255,255,.68); box-shadow: 0 14px 34px rgba(0,0,0,.09); }
    .menu-btn:active{ transform: translateY(1px); }

    .burger{ width: 18px; height: 12px; position: relative; display:block; }
    .burger span{
      position: absolute; left:0; right:0; height: 2px;
      background: rgba(17,17,17,.64);
      border-radius: 999px;
      transition: transform .28s cubic-bezier(.2,.9,.2,1), top .28s cubic-bezier(.2,.9,.2,1), bottom .28s cubic-bezier(.2,.9,.2,1), opacity .2s ease;
    }
    .burger span:nth-child(1){ top:0; }
    .burger span:nth-child(2){ top:5px; }
    .burger span:nth-child(3){ bottom:0; }
    .menu-btn.is-open .burger span:nth-child(1){ transform: rotate(45deg); top: 5px; }
    .menu-btn.is-open .burger span:nth-child(2){ opacity: 0; }
    .menu-btn.is-open .burger span:nth-child(3){ transform: rotate(-45deg); bottom: 5px; }

    /* ========================= MENU OVERLAY ========================= */
    .overlay{ position: fixed; inset: 0; z-index: 900; opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 520ms cubic-bezier(.16,1,.18,1), visibility 520ms cubic-bezier(.16,1,.18,1); }
    .overlay.is-open{ opacity: 1; visibility: visible; pointer-events: auto; }
    .overlay-bg{ position: absolute; inset: 0; background: radial-gradient(900px 600px at 75% 18%, rgba(0,0,0,.18), rgba(0,0,0,0) 62%), rgba(10, 12, 14, .18); backdrop-filter: blur(7px); -webkit-backdrop-filter: blur(7px); opacity: 0; transition: opacity 520ms cubic-bezier(.16,1,.18,1); }
    .overlay.is-open .overlay-bg{ opacity: 1; }

    .drawer{
      position: absolute; top: 0; right: 0; height: 100%;
      width: min(360px, calc(100vw - 64px));
      padding: calc(18px + var(--safeT)) calc(18px + var(--safeR)) calc(18px + var(--safeB)) 18px;
      background: rgba(255,255,255, 0.52);
      backdrop-filter: blur(26px) saturate(1.12);
      -webkit-backdrop-filter: blur(26px) saturate(1.12);
      border-left: 1px solid rgba(0,0,0,.07);
      box-shadow: 0 22px 72px rgba(0,0,0,.18);
      transform: translateX(34px) scale(.985);
      opacity: 0;
      transition: transform 720ms cubic-bezier(.16,1,.18,1), opacity 420ms cubic-bezier(.16,1,.18,1);
      display: flex;
      flex-direction: column;
      gap: 14px;
      border-top-left-radius: 24px;
      border-bottom-left-radius: 24px;
      overflow: hidden;
    }
    @media (max-width: 720px){
      .drawer{ width: min(520px, calc(100vw - 12px)); border-top-left-radius: 22px; border-bottom-left-radius: 22px; }
    }
    .drawer::after{
      content:"";
      position: absolute; inset: 0; pointer-events: none;
      background:
        linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,0) 38%),
        radial-gradient(1200px 520px at 20% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 55%);
      mix-blend-mode: screen;
      opacity: .9;
    }
    .drawer .grain{
      position: absolute; inset:-60%;
      pointer-events: none;
      opacity: .07;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      transform: rotate(8deg);
    }
    .overlay.is-open .drawer{ transform: translateX(0) scale(1); opacity: 1; }

    .drawer-head{
      position: relative; z-index: 1;
      display:flex; align-items:center; justify-content:space-between; gap: 12px;
      padding: 10px 10px 12px 10px;
      border-bottom: 1px solid rgba(0,0,0,.07);
    }
    .drawer-brand{ display:flex; flex-direction: column; line-height: 1.05; }
    .drawer-brand strong{ font-family: var(--titleFont); font-weight: 900; color: var(--brand); letter-spacing: -0.014em; font-size: 18px; }
    .drawer-brand span{ font-size: 12px; color: rgba(20,28,32,.78); letter-spacing: .12em; text-transform: uppercase; margin-top: 4px; font-family: var(--bodyFont); }

    .close-btn{
      appearance: none;
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.40);
      border-radius: 999px;
      width: 40px; height: 40px;
      display:grid; place-items: center;
      cursor:pointer;
      transition: transform .2s ease, background .2s ease, box-shadow .2s ease;
      box-shadow: 0 12px 26px rgba(0,0,0,.08);
      position: relative; z-index: 1;
      touch-action: manipulation;
    }
    .close-btn:hover{ background: rgba(255,255,255,.55); box-shadow: 0 16px 34px rgba(0,0,0,.10); }
    .close-btn:active{ transform: translateY(1px); }
    .close-x{ width: 14px; height: 14px; position: relative; }
    .close-x::before, .close-x::after{
      content:"";
      position: absolute; inset: 0; margin:auto;
      width: 14px; height: 2px;
      background: rgba(17,17,17,.58);
      border-radius: 999px;
    }
    .close-x::before{ transform: rotate(45deg); }
    .close-x::after{ transform: rotate(-45deg); }

    .drawer-nav{ position: relative; z-index: 1; display:flex; flex-direction: column; gap: 8px; padding: 6px 2px; }
    .drawer-nav a{
      text-decoration: none;
      color: rgba(20,28,32,.92);
      font-size: 14px;
      font-weight: 650;
      padding: 12px 12px;
      border-radius: 14px;
      display:flex; align-items:center; justify-content: space-between;
      background: rgba(255,255,255,.20);
      border: 1px solid rgba(0,0,0,.055);
      box-shadow: 0 10px 24px rgba(0,0,0,.055);
      opacity: 0;
      transform: translate3d(34px, 0, 0) scaleX(.78);
      transform-origin: right center;
      filter: blur(1.1px);
      transition:
        transform 820ms cubic-bezier(.16, 1, .16, 1),
        opacity 820ms cubic-bezier(.16, 1, .16, 1),
        filter 820ms cubic-bezier(.16, 1, .16, 1),
        background 520ms cubic-bezier(.16,1,.18,1),
        box-shadow 520ms cubic-bezier(.16,1,.18,1),
        border-color 520ms cubic-bezier(.16,1,.18,1);
      font-family: var(--bodyFont);
      position: relative;
      overflow: hidden;
      outline: none;
    }
    .drawer-nav a .ink-dot{
      position:absolute; left: 10px; bottom: 7px;
      width: 6px; height: 6px;
      border-radius: 999px;
      background: rgba(26,93,102,.22);
      box-shadow: 0 0 0 3px rgba(26,93,102,.08);
      opacity: 0;
      transform: scale(.6);
      transition: opacity 640ms var(--menuEase), transform 640ms var(--menuEase);
      pointer-events:none;
    }
    @media (hover:hover) and (pointer:fine){
      .drawer-nav a:hover{
        background: rgba(255,255,255,.28);
        border-color: rgba(26,93,102,.14);
        box-shadow: 0 14px 32px rgba(0,0,0,.07);
        transform: translate3d(0,-1px,0) scaleX(1);
      }
      .drawer-nav a:hover .ink-dot{ opacity: .9; transform: scale(1); }
    }
    .overlay.is-open .drawer-nav a{
      opacity: 1;
      transform: translate3d(0,0,0) scaleX(1);
      filter: blur(0);
      transition-delay: calc(110ms + (var(--i, 0) * 70ms));
    }

    .menu-logo{
      position: relative; z-index: 1;
      margin-top: 8px;
      padding: 6px 6px 2px;
      display:flex; justify-content:center; align-items:center;
      opacity: 0;
      transform: translate3d(16px, 0, 0);
      filter: blur(1.6px);
      transition: opacity 760ms cubic-bezier(.16,1,.18,1), transform 760ms cubic-bezier(.16,1,.18,1), filter 760ms cubic-bezier(.16,1,.18,1);
    }
    .overlay.is-open .menu-logo{
      opacity: 1;
      transform: translate3d(0,0,0);
      filter: blur(0);
      transition-delay: calc(110ms + (7 * 70ms));
    }
    .menu-logo .logo-box{ width: min(230px, 82%); height: 112px; display:flex; align-items:center; justify-content:center; }
    .menu-logo img{ width: 100%; height: 100%; object-fit: contain; opacity: .92; display:block; filter: drop-shadow(0 12px 24px rgba(0,0,0,.11)); }

    /* ========================= REVEAL DO SITE ========================= */
    .site{
      position: relative; z-index: 2;
      opacity: 0;
      transform: translate3d(0, 10px, 0) scale(.995);
      filter: blur(1.8px);
      transition:
        opacity 980ms cubic-bezier(.14,1,.16,1),
        transform 980ms cubic-bezier(.14,1,.16,1),
        filter 980ms cubic-bezier(.14,1,.16,1);
      will-change: opacity, transform, filter;
    }
    body.is-ready .site{
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
      filter: blur(0);
    }

    /* ===== HERO ===== */
    .hero-stage{
      position: relative; z-index: 2;
      height: 100vh; height: 100svh; height: 100dvh;
      display:flex; align-items:center; justify-content:center;
      padding: calc(22px + var(--safeT)) calc(var(--padX) + var(--safeR)) calc(26px + var(--safeB)) calc(var(--padX) + var(--safeL));
    }
    @media (max-width: 720px){
      .hero-stage{
        padding: calc(20px + var(--safeT)) calc(var(--padX) + var(--safeR)) calc(22px + var(--safeB)) calc(var(--padX) + var(--safeL));
      }
    }
    .hero{ width: 100%; max-width: 1200px; position: relative; }
    .content{ width: 100%; display:flex; flex-direction: column; align-items: center; position: relative; gap: 10px; }
    @media (min-width: 980px){
      .content { flex-direction: row; justify-content: space-between; align-items: center; gap: 0; }
    }

    .brand{
      text-align: center;
      will-change: transform, opacity, filter;
      transform: translate3d(0, calc(var(--nameY, 0px)), 0);
      opacity: var(--nameO, 1);
      filter: blur(var(--nameB, 0px));
      transition: transform var(--easeDurName) cubic-bezier(.14, 1, .18, 1), opacity var(--easeDurName) ease, filter var(--easeDurName) ease;
    }
    @media (min-width: 980px){ .brand{ text-align:left; } }
    .brand .name{
      font-family: var(--titleFont);
      font-weight: 900;
      font-size: clamp(32px, 7.2vw, 93px);
      line-height: 0.98;
      color: var(--brand);
      letter-spacing: -0.018em;
      text-shadow: 0 10px 26px rgba(0,0,0,.07), 0 2px 0 rgba(255,255,255,.10);
    }
    .brand .name .namewrap{ display: inline-flex; flex-direction: column; align-items: center; padding: 6px 10px; }
    @media (min-width: 980px){ .brand .name .namewrap{ align-items:flex-start; } }

    .role{
      text-align:center;
      margin-top: 16px;
      will-change: transform, opacity, filter;
      transform: translate3d(0, calc(var(--roleY, 0px)), 0);
      opacity: var(--roleO, 1);
      filter: blur(var(--roleB, 0px));
      transition: transform var(--easeDurRole) cubic-bezier(.14, 1, .18, 1), opacity var(--easeDurRole) ease, filter var(--easeDurRole) ease;
    }
    @media (min-width: 980px){
      .role { text-align:right; margin-top: 0; margin-left: 40px; max-width: 420px; }
    }
    .role .pill{
      display:inline-block;
      font-weight: 600;
      font-size: clamp(12px, 2.4vw, 19px);
      letter-spacing: 0.16em;
      color: var(--muted);
      text-transform: uppercase;
      font-family: var(--bodyFont);
    }

    /* ===== Card base ===== */
    .glass-card{
      border-radius: 18px;
      background: rgba(255,255,255, 0.52);
      border: 1px solid rgba(0,0,0,.055);
      box-shadow: 0 18px 54px rgba(0,0,0,.10);
      backdrop-filter: blur(16px) saturate(1.08);
      -webkit-backdrop-filter: blur(16px) saturate(1.08);
      overflow: hidden;
      position: relative;
    }
    .glass-card::before{ content: none !important; }
    .card-inner{
      position: relative;
      padding: calc(var(--cardPad) + 6px) calc(var(--cardPad) + 4px);
      display:flex;
      flex-direction: column;
      gap: 10px;
    }
    .card-kicker{
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(20,28,32,.70);
      font-family: var(--bodyFont);
    }
    .card-title{
      margin: 0;
      font-family: var(--titleFont);
      font-weight: 900;
      color: var(--brand);
      font-size: clamp(22px, 5.2vw, 34px);
      line-height: 1.05;
      letter-spacing: -0.01em;
    }
    .card-text{
      margin: 0;
      color: var(--softInk);
      line-height: var(--paraLine);
      font-size: var(--paraSize);
      font-family: var(--bodyFont);
      font-weight: 500;
    }

    /* ===== SCROLL INTERNO ===== */
    .card-scroll{
      position: relative;
      max-height: var(--cardScrollMaxH);
      overflow: auto;
      padding-top: var(--cardScrollTopPad);
      padding-bottom: var(--cardScrollBottomPad);
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
      scrollbar-width: thin;
      scrollbar-color: rgba(0,0,0,.18) transparent;
      scrollbar-gutter: stable both-edges;
    }
    @media (min-width: 981px){
      .card-scroll::-webkit-scrollbar{ width: 3px; height: 3px; }
      .card-scroll::-webkit-scrollbar-track{ background: transparent; }
      .card-scroll::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.16); border-radius: 999px; }
      .card-scroll::-webkit-scrollbar-thumb:hover{ background: rgba(0,0,0,.28); }
    }
    @media (max-width: 980px){
      .card-scroll::-webkit-scrollbar{ width: 5px; height: 5px; }
      .card-scroll::-webkit-scrollbar-track{ background: transparent; }
      .card-scroll::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.14); border-radius: 999px; }
    }
    @media (max-width: 720px){
      .card-scroll::-webkit-scrollbar{ width: 4px; height: 4px; }
      .card-scroll::-webkit-scrollbar-track{ background: transparent; }
      .card-scroll::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.14); border-radius: 999px; }
      .card-scroll{ scrollbar-color: rgba(0,0,0,.14) transparent; }
    }
    @supports (-webkit-touch-callout: none){ .card-scroll{ overflow: overlay; } }
    .card-scroll::before, .card-scroll::after{ content: none !important; display: none !important; }

    /* ========================= SOBRE ========================= */
    .about{ display: grid; gap: 14px; margin-top: 6px; }
    .about .editorial{ display:grid; grid-template-columns: 190px 1fr; gap: 14px; align-items: start; }
    @media (min-width: 720px){ .about .editorial{ grid-template-columns: 220px 1fr; gap: 16px; } }
    @media (max-width: 520px){ .about .editorial{ grid-template-columns: 1fr; } }

    .about .portrait{
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      background: rgba(255,255,255,.92);
      border: 1px solid var(--softBorder);
      box-shadow: 0 14px 32px rgba(0,0,0,.08);
      aspect-ratio: 3 / 4;
      min-height: 220px;
      max-height: 320px;
    }
    @media (max-width: 420px){ .about .portrait{ min-height: 200px; max-height: 290px; } }
    .about .portrait img{ width: 100%; height: 100%; object-fit: cover; display: block; filter: saturate(1.02) contrast(1.02); transform: scale(1.02); }

    .about .lead{
      padding: 14px 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.92);
      border: 1px solid var(--softBorder);
      box-shadow: 0 10px 22px rgba(0,0,0,.04);
      display:grid;
      gap: 10px;
    }
    .about .lead p{ margin: 0; color: var(--softInk); line-height: 1.95; font-size: var(--paraSize); font-family: var(--bodyFont); font-weight: 500; }
    .about .lead strong{ color: rgba(26,93,102,.96); font-weight: 800; }

    .about .grid{ display:grid; gap: 10px; }
    @media (min-width: 720px){ .about .grid{ grid-template-columns: 1fr 1fr; gap: 12px; } }
    .about .box{ border-radius: 16px; background: var(--softGlass); border: 1px solid var(--softBorder); box-shadow: 0 10px 22px rgba(0,0,0,.035); padding: 14px 14px; }

    .about .box h3{
      margin: 0 0 8px;
      font-size: 12px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(20,28,32,.78);
      font-weight: 800;
      font-family: var(--bodyFont);
      display:flex; align-items:center; gap: 10px;
    }
    .about .box h3::before{
      content:"";
      width: 10px; height: 10px;
      border-radius: 999px;
      background: rgba(26,93,102,.18);
      box-shadow: inset 0 0 0 1px rgba(26,93,102,.18);
      flex: 0 0 auto;
    }
    .about .box p{ margin: 0; color: var(--softInk); line-height: 1.95; font-size: var(--paraSize); font-family: var(--bodyFont); font-weight: 500; }

    .about ul{ margin: 0; padding-left: 18px; display: grid; gap: 6px; }
    .about li{ color: var(--softInk); line-height: 1.75; font-size: var(--paraSize); font-family: var(--bodyFont); font-weight: 500; }

    .edu-timeline{ position: relative; display: grid; gap: 10px; margin-top: 6px; padding-left: 14px; }
    .edu-timeline::before{
      content:"";
      position:absolute; left: 6px; top: 4px; bottom: 4px;
      width: 2px;
      background: linear-gradient(180deg, rgba(26,93,102,.22), rgba(26,93,102,.06));
      border-radius: 999px;
    }
    .edu-item{
      position: relative;
      display:grid; gap: 8px;
      padding: 12px 12px 12px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 18px rgba(0,0,0,.03);
    }
    .edu-item::before{
      content:"";
      position:absolute; left: -14px; top: 16px;
      width: 12px; height: 12px;
      border-radius: 999px;
      background: rgba(26,93,102,.22);
      box-shadow: 0 0 0 4px rgba(26,93,102,.10);
    }
    .edu-top{ display:flex; align-items:flex-start; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
    .edu-main{ min-width: 0; display:grid; gap: 2px; flex: 1 1 220px; }
    .edu-name{ font-weight: 800; color: rgba(26,93,102,.98); letter-spacing: -0.01em; font-size: 13.5px; line-height: 1.25; }
    .edu-inst{ color: rgba(20,28,32,.82); font-size: 12.5px; line-height: 1.45; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    @media (max-width: 420px){ .edu-inst{ white-space: normal; } }
    .edu-meta{ display:flex; align-items:center; gap: 8px; flex: 0 0 auto; white-space: nowrap; }
    .edu-year{ font-size: 11px; letter-spacing: .14em; text-transform: uppercase; color: rgba(20,28,32,.62); font-weight: 700; }
    .edu-tag{ display:inline-flex; align-items:center; padding: 6px 9px; border-radius: 999px; background: rgba(26,93,102,.08); border: 1px solid rgba(26,93,102,.16); color: rgba(26,93,102,.92); font-weight: 800; font-size: 10.5px; letter-spacing: .10em; text-transform: uppercase; }
    .edu-desc{ color: rgba(20,28,32,.84); font-size: 13px; line-height: 1.65; font-weight: 500; }
    .card-scroll .end-spacer{ height: var(--cardEndSpacer); }

    /* ========================= COMO FUNCIONA ========================= */
    .flow{ display: grid; gap: 12px; margin-top: 6px; }
    .flow .intro{ border-radius: 16px; background: rgba(255,255,255,.92); border: 1px solid var(--softBorder); box-shadow: 0 10px 22px rgba(0,0,0,.04); padding: 14px 14px; display: grid; gap: 10px; }
    .flow .intro p{ margin: 0; color: var(--softInk); line-height: 1.95; font-size: var(--paraSize); font-weight: 500; }
    .flow .intro strong{ color: rgba(26,93,102,.96); font-weight: 800; }
    .flow .meta-row{ display:flex; flex-wrap: wrap; gap: 8px; align-items:center; }
    .flow .chip{ display:inline-flex; align-items:center; gap: 8px; padding: 8px 10px; border-radius: 999px; background: rgba(26,93,102,.08); border: 1px solid rgba(26,93,102,.14); color: rgba(26,93,102,.92); font-weight: 800; font-size: 11px; letter-spacing: .10em; text-transform: uppercase; white-space: nowrap; }
    .flow .chip i{ width: 8px; height: 8px; border-radius: 999px; background: rgba(26,93,102,.32); box-shadow: 0 0 0 3px rgba(26,93,102,.10); display:inline-block; }
    .flow-steps{ position: relative; display: grid; gap: 10px; padding-left: 14px; margin-top: 4px; }
    .flow-steps::before{ content:""; position:absolute; left: 6px; top: 6px; bottom: 6px; width: 2px; background: linear-gradient(180deg, rgba(26,93,102,.22), rgba(26,93,102,.06)); border-radius: 999px; }
    .flow-step{ position: relative; border-radius: 16px; background: rgba(255,255,255,.92); border: 1px solid rgba(0,0,0,.06); box-shadow: 0 10px 18px rgba(0,0,0,.03); padding: 12px 12px 12px 12px; display:grid; gap: 8px; }
    .flow-step::before{ content:""; position:absolute; left: -14px; top: 16px; width: 12px; height: 12px; border-radius: 999px; background: rgba(26,93,102,.22); box-shadow: 0 0 0 4px rgba(26,93,102,.10); }
    .flow-step-head{ display:flex; align-items:flex-start; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
    .flow-step-title{ font-weight: 900; color: rgba(26,93,102,.98); letter-spacing: -0.01em; font-size: 13.5px; line-height: 1.25; }
    .flow-step-tag{ display:inline-flex; align-items:center; padding: 6px 9px; border-radius: 999px; background: rgba(26,93,102,.08); border: 1px solid rgba(26,93,102,.16); color: rgba(26,93,102,.92); font-weight: 800; font-size: 10.5px; letter-spacing: .10em; text-transform: uppercase; white-space: nowrap; }
    .flow-step-desc{ margin: 0; color: rgba(20,28,32,.84); font-size: 13px; line-height: 1.7; font-weight: 500; }
    .flow .rules{ display:grid; gap: 10px; }
    @media (min-width: 720px){ .flow .rules{ grid-template-columns: 1fr 1fr; gap: 12px; } }
    .flow .rule{ border-radius: 16px; background: var(--softGlass); border: 1px solid var(--softBorder); box-shadow: 0 10px 22px rgba(0,0,0,.035); padding: 14px 14px; display:grid; gap: 8px; }
    .flow .rule h3{ margin: 0; font-size: 12px; letter-spacing: .16em; text-transform: uppercase; color: rgba(20,28,32,.78); font-weight: 800; display:flex; align-items:center; gap: 10px; }
    .flow .rule h3::before{ content:""; width: 10px; height: 10px; border-radius: 999px; background: rgba(26,93,102,.18); box-shadow: inset 0 0 0 1px rgba(26,93,102,.18); flex: 0 0 auto; }
    .flow .rule p{ margin: 0; color: var(--softInk); line-height: 1.9; font-size: var(--paraSize); font-weight: 500; }

    .flow .cta{
      margin-top: 2px;
      display:flex; flex-wrap: wrap; gap: 10px; align-items:center; justify-content: space-between;
      border-radius: 16px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(26,93,102,.14);
      box-shadow: 0 10px 22px rgba(0,0,0,.035);
      padding: 12px 12px;
    }
    .flow .cta p{ margin: 0; color: rgba(20,28,32,.82); line-height: 1.6; font-size: 13px; font-weight: 600; flex: 1 1 260px; }
    .flow .cta a{
      text-decoration: none;
      display:inline-flex; align-items:center; gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(26,93,102,.10);
      border: 1px solid rgba(26,93,102,.20);
      color: rgba(26,93,102,.96);
      font-weight: 850;
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      white-space: nowrap;
      box-shadow: 0 10px 18px rgba(0,0,0,.03);
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
    }
    @media (hover:hover) and (pointer:fine){
      .flow .cta a:hover{ transform: translateY(-1px); background: rgba(26,93,102,.12); box-shadow: 0 14px 24px rgba(0,0,0,.05); }
    }
    .flow .cta a:active{ transform: translateY(0px) scale(.99); }

    /* ========================= CONTATO ========================= */
    .contact{ display:grid; gap: 12px; margin-top: 6px; }
    .contact-hero{ border-radius: 16px; background: rgba(255,255,255,.92); border: 1px solid rgba(0,0,0,.06); box-shadow: 0 10px 22px rgba(0,0,0,.04); padding: 14px 14px; display:grid; gap: 10px; }
    .contact-hero p{ margin: 0; color: rgba(20,28,32,.86); line-height: 1.85; font-size: var(--paraSize); font-weight: 520; }
    .contact-hero strong{ color: rgba(26,93,102,.96); font-weight: 850; }
    .contact-ctaRow{ display:flex; flex-wrap: wrap; gap: 10px; align-items:center; justify-content: space-between; padding-top: 10px; border-top: 1px solid rgba(0,0,0,.06); }

    .open-form-btn, .btn-primary, .btn-ghost{
      appearance:none;
      border-radius: 14px;
      padding: 11px 12px;
      cursor:pointer;
      font-family: var(--bodyFont);
      font-weight: 900;
      font-size: 12px;
      letter-spacing: .10em;
      text-transform: uppercase;
      display:inline-flex;
      align-items:center;
      gap: 10px;
      box-shadow: 0 12px 20px rgba(0,0,0,.04);
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease, border-color .18s ease;
      white-space: nowrap;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      border: 1px solid rgba(26,93,102,.18);
    }
    .open-form-btn{ background: rgba(26,93,102,.12); border-color: rgba(26,93,102,.20); color: rgba(26,93,102,.96); }
    .btn-primary{ background: rgba(26,93,102,.14); border-color: rgba(26,93,102,.22); color: rgba(26,93,102,.96); }
    .btn-ghost{ background: rgba(255,255,255,.78); color: rgba(20,28,32,.84); border-color: rgba(0,0,0,.08); }
    @media (hover:hover) and (pointer:fine){
      .open-form-btn:hover, .btn-primary:hover{ background: rgba(26,93,102,.17); border-color: rgba(26,93,102,.26); transform: translateY(-1px); box-shadow: 0 16px 26px rgba(0,0,0,.06); }
      .btn-ghost:hover{ background: rgba(255,255,255,.90); transform: translateY(-1px); box-shadow: 0 16px 26px rgba(0,0,0,.06); }
    }
    .open-form-btn:active, .btn-primary:active, .btn-ghost:active{ transform: translateY(0) scale(.99); }

    .ico{ width: 16px; height: 16px; display:inline-block; opacity: .9; flex: 0 0 auto; }
    .ico path{ fill: currentColor; }
    .contact-note{ margin: 0; color: rgba(20,28,32,.70); font-size: 12.5px; line-height: 1.65; flex: 1 1 260px; }

    .contact-panel{
      border-radius: 16px;
      background: rgba(255,255,255,.90);
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 18px rgba(0,0,0,.03);
      padding: 14px 14px;
      display: grid;
      gap: 10px;

      opacity: 0;
      transform: translate3d(0, 10px, 0) scale(.995);
      filter: blur(1.1px);
      max-height: 0;
      overflow: hidden;

      transition:
        opacity var(--contactRevealDur) var(--contactRevealEase),
        transform var(--contactRevealDur) var(--contactRevealEase),
        filter var(--contactRevealDur) var(--contactRevealEase),
        max-height var(--contactRevealDur) var(--contactRevealEase);
    }
    .contact-panel.is-open{
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
      filter: blur(0);
      max-height: 1200px;
      overflow: visible;
    }
    .contact-panel h3{
      margin: 0;
      font-size: 12px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(20,28,32,.78);
      font-weight: 850;
      display:flex; align-items:center; gap: 10px;
    }
    .contact-panel h3::before{
      content:"";
      width: 10px; height: 10px;
      border-radius: 999px;
      background: rgba(26,93,102,.18);
      box-shadow: inset 0 0 0 1px rgba(26,93,102,.18);
      flex: 0 0 auto;
    }

    .contact-form{ display:grid; gap: 10px; margin-top: 2px; }
    .form-row{ display:grid; gap: 10px; }
    @media (min-width: 720px){ .form-row.two{ grid-template-columns: 1fr 1fr; } }
    .field{ display:grid; gap: 6px; }
    .label{ font-size: 11px; letter-spacing: .14em; text-transform: uppercase; color: rgba(20,28,32,.68); font-weight: 800; }
    .input, .select, .textarea{
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.78);
      box-shadow: 0 10px 18px rgba(0,0,0,.03);
      padding: 12px 12px;
      font-family: var(--bodyFont);
      font-size: 14px;
      color: rgba(20,28,32,.92);
      outline: none;
      transition: border-color .18s ease, box-shadow .18s ease, background .18s ease, transform .18s ease;
    }
    .textarea{ min-height: 92px; resize: vertical; }
    .input::placeholder, .textarea::placeholder{ color: rgba(20,28,32,.46); }
    .input:focus, .select:focus, .textarea:focus{
      border-color: rgba(26,93,102,.26);
      box-shadow: 0 0 0 3px rgba(26,93,102,.10), 0 14px 24px rgba(0,0,0,.05);
      background: rgba(255,255,255,.86);
    }
    .radio-row{ display:flex; flex-wrap: wrap; gap: 8px; }
    .pill-radio{
      position: relative;
      display:inline-flex; align-items:center; gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(26,93,102,.06);
      border: 1px solid rgba(26,93,102,.12);
      color: rgba(26,93,102,.92);
      font-weight: 850;
      font-size: 12px;
      letter-spacing: .04em;
      cursor: pointer;
      user-select:none;
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
    }
    .pill-radio input{ position:absolute; opacity:0; pointer-events:none; }
    .pill-radio i{
      width: 8px; height: 8px;
      border-radius: 999px;
      background: rgba(26,93,102,.28);
      box-shadow: 0 0 0 3px rgba(26,93,102,.10);
    }
    .pill-radio:has(input:checked){ background: rgba(26,93,102,.10); border-color: rgba(26,93,102,.22); transform: translateY(-1px); }
    @media (hover:hover) and (pointer:fine){
      .pill-radio:hover{ background: rgba(26,93,102,.09); border-color: rgba(26,93,102,.18); transform: translateY(-1px); }
    }

    .form-foot{ display:flex; flex-wrap: wrap; gap: 10px; align-items:center; justify-content: space-between; margin-top: 2px; }
    .consent{
      display:flex; gap: 10px; align-items:flex-start;
      flex: 1 1 260px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 16px rgba(0,0,0,.025);
      color: rgba(20,28,32,.78);
      font-size: 12.5px;
      line-height: 1.55;
    }
    .consent input{ margin-top: 2px; accent-color: var(--brand); }
    .form-actions{ display:flex; flex-wrap: wrap; gap: 10px; justify-content:flex-end; flex: 0 0 auto; }
    .helper{ margin: 0; color: rgba(20,28,32,.70); font-size: 12.5px; line-height: 1.65; }

    /* ========================= TRACK / CARDS ========================= */
    .cards-track{
      position: relative; z-index: 2;
      padding: calc(var(--cardStickyTop) + 10px) calc(var(--padX) + var(--safeR)) calc(56px + var(--safeB)) calc(var(--padX) + var(--safeL));
    }
    @media (max-width: 720px){
      .cards-track{ padding: calc(var(--cardStickyTop) + 8px) calc(var(--padX) + var(--safeR)) calc(46px + var(--safeB)) calc(var(--padX) + var(--safeL)); }
    }
    .cards-track .track-spacer{ height: 320vh; }
    @media (max-width: 720px){ .cards-track .track-spacer{ height: 360vh; } }

    .cards-stage{
      position: sticky;
      top: var(--cardStickyTop);
      display: grid;
      place-items: center;
      pointer-events: none;
      height: calc(100vh - var(--cardStickyTop) - 12px);
      min-height: 520px;
    }
    @media (max-width: 720px){
      .cards-stage{ height: calc(100dvh - var(--cardStickyTop) - 10px); min-height: 520px; }
    }

    @keyframes cardFloat{
      0%,100%{ transform: translate3d(var(--tx,0px), var(--ty,0px), 0) scale(var(--ts,1)); }
      50%{ transform: translate3d(var(--tx,0px), calc(var(--ty,0px) - var(--cardFloatAmp)), 0) scale(var(--ts,1)); }
    }

    .section-card{
      grid-area: 1 / 1;
      position: relative;
      width: min(var(--cardMaxW), calc(var(--wPx, 160) * 1px));
      opacity: var(--o, 0);
      filter: blur(calc((1 - var(--p,0)) * 0.85px));
      --tx: calc(var(--xPx, 0) * 1px);
      --ty: calc(var(--yPx, 0) * 1px);
      --ts: var(--s, 0.992);
      transform: translate3d(var(--tx), var(--ty), 0) scale(var(--ts));
      will-change: transform, opacity, filter, width;
      pointer-events: none;
      border-radius: calc(18px + (var(--p,0) * 10px));
    }
    .section-card.is-active{ pointer-events: auto; animation: none; }
    /* ========================= CARD FINAL (INFORMAÇÕES) ========================= */
    #rodape{
      align-self: end;             /* cola no limite inferior do sticky stage */
      justify-self: center;
      width: min(860px, 100%) !important; /* assinatura final mais estreita */
      margin-bottom: 0;

      /* mais sutil que os cards principais */
      background: rgba(255,255,255,.20);
      border: 1px solid rgba(0,0,0,.045);
      box-shadow: 0 16px 40px rgba(0,0,0,.075);

      /* remove o blur do glass pra ficar mais “real” */
      backdrop-filter: blur(0px) saturate(1.03);
      -webkit-backdrop-filter: blur(0px) saturate(1.03);

      /* entrada/saída um pouco mais lenta */
      transition:
        opacity 1200ms var(--menuEase),
        transform 1200ms var(--menuEase),
        filter 1200ms var(--menuEase),
        width 1200ms var(--menuEase);
    }

    .footer-inner{
      padding: calc(var(--cardPad) + 2px) calc(var(--cardPad) + 6px);
      gap: 8px;
      text-align: center;
    }
    .footer-line{
      margin: 0;
      color: rgba(20,28,32,.76);
      font-size: 13px;
      line-height: 1.55;
      font-weight: 650;
      letter-spacing: .02em;
    }
    .footer-line strong{ color: rgba(26,93,102,.96); font-weight: 900; }
    .footer-sub{
      margin: 2px 0 0;
      color: rgba(20,28,32,.56);
      font-size: 12.2px;
      line-height: 1.5;
      font-weight: 650;
      letter-spacing: .06em;
      text-transform: uppercase;
    }

    .footer-actions{
      margin-top: 6px;
      display:flex;
      justify-content: center;
    }
    .footer-ig{
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.58);
      border: 1px solid rgba(0,0,0,.06);
      color: rgba(20,28,32,.78);
      box-shadow: 0 10px 18px rgba(0,0,0,.04);
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease, border-color .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .footer-ig .ico{ width: 16px; height: 16px; opacity: .9; }
    .footer-igText{
      font-size: 12px;
      font-weight: 900;
      letter-spacing: .12em;
      text-transform: uppercase;
    }
    @media (hover:hover) and (pointer:fine){
      .footer-ig:hover{
        transform: translateY(-1px);
        background: rgba(255,255,255,.72);
        box-shadow: 0 14px 24px rgba(0,0,0,.055);
        border-color: rgba(26,93,102,.12);
      }
    }
    .footer-ig:active{ transform: translateY(0) scale(.99); }

    body.is-locked{ overflow: hidden; touch-action: none; }

    
    
    /* ========================= FOOTER DOCK (card final travado no fim) ========================= */
    body.footer-docked{
      overflow: hidden;
      overscroll-behavior: none;
      touch-action: none;
    }
    body.footer-docked #rodape{
      position: fixed !important;
      left: 50% !important;
      bottom: calc(14px + var(--safeB)) !important;
      top: auto !important;

      transform: translate3d(-50%, 0, 0) !important;
      width: min(860px, calc(100vw - 28px)) !important;

      opacity: 1 !important;
      filter: none !important;
      pointer-events: auto !important;
      z-index: 2200 !important;
    }
    @media (max-width: 720px){
      body.footer-docked #rodape{
        width: calc(100vw - 20px) !important;
        bottom: calc(12px + var(--safeB)) !important;
      }
    }
.footer-grid{ display:flex; align-items:center; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
    .footer-left{ display:flex; flex-direction: column; gap: 6px; min-width: 240px; flex: 1 1 340px; }
    .footer-meta{ display:flex; flex-wrap: wrap; gap: 10px; align-items: baseline; color: var(--footerInk); font-size: 12px; line-height: 1.6; letter-spacing: .02em; }
    .footer-meta b{ color: rgba(20,28,32,.62); font-weight: 850; letter-spacing: .06em; text-transform: uppercase; font-size: 11px; }
    .footer-copy{ color: var(--footerInk2); font-size: 11.5px; line-height: 1.55; letter-spacing: .02em; }
    .footer-right{ display:flex; align-items:center; gap: 10px; flex: 0 0 auto; }

    .ig-btn{
      display:inline-flex; align-items:center; justify-content:center;
      width: 38px; height: 38px;
      border-radius: 999px;
      background: rgba(255,255,255,.22);
      border: 1px solid rgba(0,0,0,.05);
      box-shadow: 0 12px 28px rgba(0,0,0,.05);
      color: rgba(20,28,32,.58);
      text-decoration: none;
      transition: transform .18s ease, background .18s ease, color .18s ease, border-color .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .ig-btn svg{ width: 18px; height: 18px; display:block; fill: currentColor; opacity: .92; }
    @media (hover:hover) and (pointer:fine){
      .ig-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.28); border-color: rgba(26,93,102,.10); color: rgba(26,93,102,.70); }
    }
    .ig-btn:active{ transform: translateY(0) scale(.99); }

    @media (prefers-reduced-motion: reduce){
      footer.site-footer{ opacity: 1 !important; transform: none !important; filter: none !important; pointer-events: auto !important; }
    }
  </style>

<style>
/* ===== Ajustes Loader ===== */

/* Aumenta a logo da tela de carregamento */
.loader img,
.loader-logo img {
    width: 180px !important;  /* aumentada */
    max-width: 180px !important;
}

/* Diminui largura da barra de progresso */
.loader-progress,
.progress-bar-container {
    width: 180px !important;  /* menos larga */
}

/* Altura um pouco mais fina para ficar elegante */
.loader-progress,
.progress-bar {
    height: 6px !important;
}
</style>

</head>

<body class="is-loading">
  <!-- LOADER -->
  <div class="loader" id="loader" aria-label="Carregando" role="status" aria-live="polite">
    <div class="loader-wrap">
      <div class="loader-logoMark" aria-hidden="true"></div>
      <!-- ✅ AQUI: Logo.PNG -->
      <img class="loader-fallbackImg" src="./imagens/Logo.PNG" alt="Logo Káren Patussi">
      <div class="loader-progress" aria-hidden="true"><span></span></div>
      <span class="sr-only">Carregando</span>
    </div>
  </div>

  <!-- Árvore fixa -->
  <div class="bg-stage" aria-hidden="true">
    <div class="tree">
      <img src="./imagens/Tree ring hero.png" alt="">
    </div>
  </div>

  <!-- 6 bolhas -->
  <div class="bubbles-stage" aria-hidden="true" id="bubblesStage"></div>

  <!-- TOPBAR -->
  <header class="topbar" id="topbar" aria-label="Barra superior">
    <div class="bar-title" id="barTitle">
      <span class="logo-mark" aria-hidden="true"></span>
      <!-- ✅ AQUI: Logo.PNG -->
      <img class="logo-img" src="./imagens/Logo.PNG" alt="Logo">
      <span class="bar-name">Káren Patussi</span>
    </div>

    <button class="menu-btn" id="openMenu" type="button" aria-label="Abrir menu" aria-controls="menuOverlay" aria-expanded="false">
      <span class="burger" aria-hidden="true"><span></span><span></span><span></span></span>
    </button>
  </header>

  <!-- MENU OVERLAY -->
  <div class="overlay" id="menuOverlay" aria-hidden="true">
    <div class="overlay-bg" id="overlayBg" aria-hidden="true"></div>

    <aside class="drawer" role="dialog" aria-modal="true" aria-label="Menu" tabindex="-1" id="drawer">
      <span class="grain" aria-hidden="true"></span>

      <div class="drawer-head">
        <div class="drawer-brand" aria-hidden="true">
          <strong>Káren Patussi</strong>
          <span>Menu</span>
        </div>
        <button class="close-btn" id="closeMenu" type="button" aria-label="Fechar menu">
          <span class="close-x" aria-hidden="true"></span>
        </button>
      </div>

      <nav class="drawer-nav" aria-label="Navegação">
        <a href="#home" data-link data-index="-1">Home <span class="ink-dot" aria-hidden="true"></span></a>
        <a href="#sobre" data-link data-index="0">Sobre <span class="ink-dot" aria-hidden="true"></span></a>
        <a href="#como-funciona" data-link data-index="1">Como funciona <span class="ink-dot" aria-hidden="true"></span></a>
        <a href="#areas" data-link data-index="2">Áreas de atuação <span class="ink-dot" aria-hidden="true"></span></a>
        <a href="#faq" data-link data-index="3">FAQ <span class="ink-dot" aria-hidden="true"></span></a>
        <a href="#contato" data-link data-index="4">Contato <span class="ink-dot" aria-hidden="true"></span></a>
      </nav>

      <div class="menu-logo" aria-hidden="true">
        <div class="logo-box">
          <!-- ✅ AQUI: Logo.PNG -->
          <img src="./imagens/Logo.PNG" alt="">
        </div>
      </div>
    </aside>
  </div>

  <!-- SITE -->
  <div class="site" id="siteRoot">

    <!-- HERO -->
    <main id="home" class="hero-stage" aria-label="Hero">
      <section class="hero" aria-label="Identidade">
        <div class="content">
          <div class="brand" id="brand" aria-label="Káren Patussi">
            <div class="name">
              <span class="namewrap">
                <span>Káren</span>
                <span>Patussi</span>
              </span>
            </div>
          </div>

          <div class="role" id="role" aria-label="Psicóloga e terapeuta sexual">
            <span class="pill">Psicóloga &amp; Terapeuta Sexual</span>
          </div>
        </div>
      </section>
    </main>

    <!-- TRACK -->
    <section class="cards-track" id="cardsTrack" aria-label="Conteúdo">
      <div class="cards-stage" id="cardsStage">

        <!-- SOBRE -->
        <article class="section-card glass-card card--about" data-card id="sobre">
          <div class="card-inner">
            <div class="card-kicker">Quem eu sou</div>
            <h2 class="card-title">Sobre</h2>

            <div class="card-scroll" data-scroll>
              <div class="about">
                <div class="editorial" aria-label="Foto e síntese">
                  <div class="portrait" aria-label="Foto da psicóloga">
                    <img src="./imagens/Foto Karen Sobre.png"
                         onerror="this.src='https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=900&q=80';"
                         alt="Foto profissional da psicóloga">
                  </div>
                  <div class="lead" aria-label="Síntese profissional">
                    <p>
                      Sou <strong>psicóloga clínica</strong>, com experiência iniciada em <strong>2006</strong> no atendimento a crianças, adolescentes e adultos — com foco na promoção da saúde mental e emocional.
                      Após mais de uma década no <strong>setor público</strong>, retomei o consultório em <strong>Itapema (SC)</strong> e ampliei minha prática com especialização em <strong>Sexualidade Humana e Terapia Sexual</strong>.
                    </p>
                  </div>
                </div>

                <div class="grid" aria-label="Atendimento e trajetória">
                  <section class="box" aria-label="Atendimento">
                    <h3>Atendimento</h3>
                    <p>Atendo principalmente <strong>adultos</strong>, <strong>casais</strong> e <strong>famílias</strong>, oferecendo um espaço ético, seguro e acolhedor.</p>
                  </section>

                  <section class="box" aria-label="Trajetória">
                    <h3>Trajetória</h3>
                    <p>Minha experiência inclui atuação em contextos de <strong>vulnerabilidade social</strong>, violência e fragilidade psicossocial, o que amplia meu olhar para as diferentes realidades.</p>
                  </section>
                </div>

                <section class="box" aria-label="Abordagem">
                  <h3>Abordagem</h3>
                  <p>Meu trabalho é fundamentado na escuta qualificada, na responsabilidade técnica e no respeito à singularidade de cada história. A psicoterapia é um processo de construção conjunta, no seu ritmo.</p>
                </section>

                <section class="box" aria-label="Formação acadêmica e complementar">
                  <h3>Formação</h3>

                  <div class="edu-timeline" aria-label="Linha do tempo de formação">
                    <div class="edu-item">
                      <div class="edu-top">
                        <div class="edu-main">
                          <div class="edu-name">Psicologia</div>
                          <div class="edu-inst">Universidade de Passo Fundo</div>
                        </div>
                        <div class="edu-meta">
                          <span class="edu-tag">Graduação</span>
                          <span class="edu-year">2001–2005</span>
                        </div>
                      </div>
                      <div class="edu-desc">Base clínica e formação universitária em Psicologia.</div>
                    </div>

                    <div class="edu-item">
                      <div class="edu-top">
                        <div class="edu-main">
                          <div class="edu-name">Gestão Ambiental, Economia e Meio Ambiente</div>
                          <div class="edu-inst">Universidade de Passo Fundo</div>
                        </div>
                        <div class="edu-meta">
                          <span class="edu-tag">Pós</span>
                          <span class="edu-year">2009–2011</span>
                        </div>
                      </div>
                      <div class="edu-desc">Pós-graduação com foco em contexto socioambiental e impacto na vida coletiva.</div>
                    </div>

                    <div class="edu-item">
                      <div class="edu-top">
                        <div class="edu-main">
                          <div class="edu-name">Sexualidade Humana e Terapia Sexual</div>
                          <div class="edu-inst">IPHEM/RJ e ELO/Passo Fundo</div>
                        </div>
                        <div class="edu-meta">
                          <span class="edu-tag">Especialização</span>
                          <span class="edu-year">2019–2022</span>
                        </div>
                      </div>
                      <div class="edu-desc">Formação clínica e técnica em sexualidade humana e terapia sexual.</div>
                    </div>

                    <div class="edu-item">
                      <div class="edu-top">
                        <div class="edu-main">
                          <div class="edu-name">Estudos sobre as Mulheres</div>
                          <div class="edu-inst">Universidade Nova de Lisboa (Lato Sensu)</div>
                        </div>
                        <div class="edu-meta">
                          <span class="edu-tag">Pós</span>
                          <span class="edu-year">2023–2024</span>
                        </div>
                      </div>
                      <div class="edu-desc">Mulheres na sociedade e na cultura: repertório crítico e contemporâneo.</div>
                    </div>
                  </div>
                </section>

                <div class="end-spacer" aria-hidden="true"></div>
              </div>
            </div>
          </div>
        </article>

        <!-- COMO FUNCIONA -->
        <article class="section-card glass-card" data-card id="como-funciona">
          <div class="card-inner">
            <div class="card-kicker">Fluxo</div>
            <h2 class="card-title">Como funciona</h2>

            <div class="card-scroll" data-scroll>
              <div class="flow" aria-label="Como funciona (organizado)">
                <section class="intro" aria-label="Introdução do processo">
                  <p>A psicoterapia começa com um <strong>acolhimento da sua demanda</strong> e do seu momento atual. A partir disso, construímos juntos um caminho com <strong>objetivos claros</strong>, combinados de forma simples e transparente.</p>
                  <div class="meta-row" aria-label="Informações rápidas">
                    <span class="chip"><i aria-hidden="true"></i> Sessões semanais</span>
                    <span class="chip"><i aria-hidden="true"></i> Online ou presencial</span>
                    <span class="chip"><i aria-hidden="true"></i> Sigilo e ética</span>
                  </div>
                </section>

                <section class="flow-steps" aria-label="Etapas do processo">
                  <div class="flow-step" aria-label="Etapa 1">
                    <div class="flow-step-head">
                      <div class="flow-step-title">1) Acolhimento e alinhamento</div>
                      <span class="flow-step-tag">Início</span>
                    </div>
                    <p class="flow-step-desc">Você traz o que está vivendo — e eu ajudo a organizar o que dói, o que confunde e o que você deseja mudar, com uma escuta cuidadosa e sem julgamentos.</p>
                  </div>

                  <div class="flow-step" aria-label="Etapa 2">
                    <div class="flow-step-head">
                      <div class="flow-step-title">2) Objetivos e direção</div>
                      <span class="flow-step-tag">Plano</span>
                    </div>
                    <p class="flow-step-desc">Definimos foco e prioridades: o que precisa de atenção agora, o que pode esperar, e quais mudanças são possíveis no seu ritmo.</p>
                  </div>

                  <div class="flow-step" aria-label="Etapa 3">
                    <div class="flow-step-head">
                      <div class="flow-step-title">3) Processo terapêutico</div>
                      <span class="flow-step-tag">Caminho</span>
                    </div>
                    <p class="flow-step-desc">Acompanhamos seus avanços, identificamos padrões, fortalecemos recursos internos e trabalhamos estratégias para lidar melhor com emoções, relações e escolhas.</p>
                  </div>

                  <div class="flow-step" aria-label="Etapa 4">
                    <div class="flow-step-head">
                      <div class="flow-step-title">4) Ajustes e autonomia</div>
                      <span class="flow-step-tag">Evolução</span>
                    </div>
                    <p class="flow-step-desc">O processo é vivo: revisamos objetivos, ajustamos o formato quando necessário e caminhamos para mais clareza, liberdade e autonomia emocional.</p>
                  </div>
                </section>

                <section class="rules" aria-label="Combinados essenciais">
                  <div class="rule" aria-label="Sigilo"><h3>Sigilo</h3><p>Tudo o que é compartilhado em sessão é protegido por confidencialidade, respeitando a ética profissional.</p></div>
                  <div class="rule" aria-label="Frequência"><h3>Frequência</h3><p>A constância ajuda o processo a ganhar profundidade. Ajustamos a frequência conforme sua necessidade e fase.</p></div>
                  <div class="rule" aria-label="Cancelamento"><h3>Cancelamento</h3><p>Caso precise remarcar, o ideal é avisar com antecedência. Assim mantemos o cuidado com seu tempo e com a agenda.</p></div>
                  <div class="rule" aria-label="Formato"><h3>Formato</h3><p>Online ou presencial: ambos podem ser terapêuticos. O importante é um espaço estável e seguro para você.</p></div>
                </section>

                <div class="cta" aria-label="Chamada para ação">
                  <p>Se quiser, a gente começa com uma conversa breve para entender sua demanda e combinar o melhor formato.</p>
                  <a href="#contato" aria-label="Ir para contato">Agendar sessão</a>
                </div>

                <div class="end-spacer" aria-hidden="true"></div>
              </div>
            </div>
          </div>
        </article>

        <!-- ÁREAS -->
        <article class="section-card glass-card" data-card id="areas">
          <div class="card-inner">
            <div class="card-kicker">Atuação clínica</div>
            <h2 class="card-title">Áreas de atuação</h2>

            <div class="card-scroll" data-scroll>
              <p class="card-text">Trabalho com adultos, casais e famílias em questões emocionais, relacionais e de sexualidade — sempre com ética, sigilo e respeito à individualidade.</p>

              <div class="about" aria-label="Blocos de áreas de atuação">
                <div class="grid" aria-label="Saúde emocional e relacionamentos">
                  <section class="box" aria-label="Saúde emocional">
                    <h3>Saúde emocional</h3>
                    <ul>
                      <li>Ansiedade e crises de angústia</li>
                      <li>Depressão e desmotivação</li>
                      <li>Autoestima e autoconhecimento</li>
                      <li>Luto e processos de mudança</li>
                    </ul>
                  </section>

                  <section class="box" aria-label="Relacionamentos">
                    <h3>Relacionamentos</h3>
                    <ul>
                      <li>Relações afetivas e conflitos conjugais</li>
                      <li>Comunicação e acordos no vínculo</li>
                      <li>Construção de vínculos saudáveis</li>
                      <li>Relações familiares</li>
                    </ul>
                  </section>
                </div>

                <div class="grid" aria-label="Sexualidade e desenvolvimento pessoal">
                  <section class="box" aria-label="Sexualidade">
                    <h3>Sexualidade</h3>
                    <ul>
                      <li>Saúde sexual, intimidade e prazer</li>
                      <li>Comunicação nas relações</li>
                      <li>Manejo de dificuldades e disfunções sexuais</li>
                      <li>Reconexão com o corpo e com o desejo</li>
                    </ul>
                  </section>

                  <section class="box" aria-label="Desenvolvimento pessoal">
                    <h3>Desenvolvimento pessoal</h3>
                    <ul>
                      <li>Gestão emocional</li>
                      <li>Autonomia e identidade</li>
                      <li>Tomada de decisão</li>
                      <li>Fortalecimento interno</li>
                    </ul>
                  </section>
                </div>
              </div>

              <div class="end-spacer" aria-hidden="true"></div>
            </div>
          </div>
        </article>

        <!-- FAQ -->
        <article class="section-card glass-card" data-card id="faq">
          <div class="card-inner">
            <div class="card-kicker">Dúvidas comuns</div>
            <h2 class="card-title">FAQ</h2>
            <div class="card-scroll" data-scroll>
              <p class="card-text">Aqui entram respostas objetivas e elegantes: duração das sessões, formato, sigilo, cancelamento, indicação e como iniciar.</p>
              <div class="end-spacer" aria-hidden="true"></div>
            </div>
          </div>
        </article>

        <!-- CONTATO -->
        <article class="section-card glass-card" data-card id="contato">
          <div class="card-inner">
            <div class="card-kicker">Agendamento</div>
            <h2 class="card-title">Contato</h2>

            <div class="card-scroll" data-scroll>
              <div class="contact" aria-label="Contato e agendamento">
                <section class="contact-hero" aria-label="Orientação de contato">
                  <p>Se você está sentindo que algo precisa de <strong>cuidado</strong>, a gente pode começar do jeito mais simples: um primeiro contato, sem pressa. <strong>Você não precisa organizar tudo sozinho(a)</strong>.</p>

                  <div class="contact-ctaRow" aria-label="Abrir formulário">
                    <button class="open-form-btn" type="button" id="btnToggleForm" aria-expanded="false" aria-controls="contactPanel">
                      <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M3 3h18v2H3V3zm2 4h14v14H5V7zm2 2v2h10V9H7zm0 4v2h10v-2H7z"/>
                      </svg>
                      Abrir formulário
                    </button>
                    <p class="contact-note">Preencha e envie por WhatsApp ou e-mail (sem expor informações sensíveis).</p>
                  </div>
                </section>

                <section class="contact-panel" id="contactPanel" aria-label="Formulário de contato" aria-hidden="true">
                  <h3>Dados</h3>

                  <form class="contact-form" id="contactForm" autocomplete="on" novalidate>
                    <div class="form-row two">
                      <div class="field">
                        <div class="label">Nome</div>
                        <input class="input" id="fName" name="name" type="text" placeholder="Seu nome completo" required>
                      </div>
                      <div class="field">
                        <div class="label">WhatsApp</div>
                        <input class="input" id="fWhats" name="whats" type="tel" inputmode="tel" placeholder="(DDD) 9XXXX-XXXX" required>
                      </div>
                    </div>

                    <div class="field">
                      <div class="label">Modalidade</div>
                      <div class="radio-row" role="radiogroup" aria-label="Modalidade">
                        <label class="pill-radio"><input type="radio" name="mode" value="Online" checked><i aria-hidden="true"></i>Online</label>
                        <label class="pill-radio"><input type="radio" name="mode" value="Presencial"><i aria-hidden="true"></i>Presencial</label>
                      </div>
                    </div>

                    <div class="form-row two">
                      <div class="field">
                        <div class="label">Período</div>
                        <select class="select" id="fPeriod" name="period">
                          <option>Manhã</option>
                          <option>Tarde</option>
                          <option>Noite</option>
                        </select>
                      </div>
                      <div class="field">
                        <div class="label">Dia preferido</div>
                        <select class="select" id="fDay" name="day">
                          <option>Segunda</option>
                          <option>Terça</option>
                          <option>Quarta</option>
                          <option>Quinta</option>
                          <option>Sexta</option>
                        </select>
                      </div>
                    </div>

                    <div class="field">
                      <div class="label">Mensagem (opcional)</div>
                      <textarea class="textarea" id="fMsg" name="msg" placeholder="Em 1 frase: o que você quer cuidar?"></textarea>
                    </div>

                    <div class="form-foot">
                      <label class="consent">
                        <input type="checkbox" id="fConsent" required>
                        <span>Concordo em compartilhar estes dados para retorno de contato (LGPD).</span>
                      </label>

                      <div class="form-actions" aria-label="Ações do formulário">
                        <button class="btn-primary" type="button" id="btnWhats">
                          <svg class="ico" viewBox="0 0 32 32" aria-hidden="true">
                            <path d="M19.11 17.53c-.26-.13-1.55-.76-1.79-.85-.24-.09-.42-.13-.6.13-.18.26-.69.85-.85 1.02-.16.18-.31.2-.58.07-.26-.13-1.11-.41-2.12-1.31-.79-.7-1.32-1.56-1.47-1.82-.15-.26-.02-.4.11-.53.11-.11.26-.31.39-.46.13-.15.18-.26.26-.44.09-.18.04-.33-.02-.46-.07-.13-.6-1.44-.82-1.97-.22-.53-.44-.46-.6-.47l-.51-.01c-.18 0-.46.07-.7.33-.24.26-.92.9-.92 2.19 0 1.29.94 2.53 1.07 2.71.13.18 1.85 2.83 4.48 3.97.63.27 1.12.43 1.5.55.63.2 1.2.17 1.65.1.5-.08 1.55-.63 1.77-1.24.22-.61.22-1.13.15-1.24-.07-.11-.24-.18-.5-.31zM16.02 26.9h-.01c-1.84 0-3.64-.49-5.22-1.42l-.37-.22-3.87 1.01 1.03-3.77-.24-.39a10.82 10.82 0 0 1-1.68-5.81c0-5.97 4.87-10.83 10.86-10.83 2.89 0 5.6 1.12 7.64 3.16a10.74 10.74 0 0 1 3.17 7.65c0 5.97-4.87 10.84-10.86 10.84zm9.25-20.08A13.02 13.02 0 0 0 16 3C8.83 3 3 8.82 3 15.98c0 2.29.6 4.52 1.74 6.49L3 29l6.73-1.76a12.95 12.95 0 0 0 6.26 1.61h.01c7.17 0 13-5.82 13-12.98 0-3.47-1.35-6.73-3.73-9.05z"/>
                          </svg>
                          Enviar WhatsApp
                        </button>

                        <button class="btn-ghost" type="button" id="btnMail">
                          <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/>
                          </svg>
                          Enviar e-mail
                        </button>
                      </div>
                    </div>

                    <p class="helper"><strong>Nota:</strong> evite detalhes íntimos por mensagem. O acolhimento acontece com calma na sessão.</p>
                  </form>
                </section>

                <div class="end-spacer" aria-hidden="true"></div>
              </div>
            </div>
          </div>
        </article>

        <!-- RODAPÉ (CARD) -->
        <article class="section-card glass-card card--rodape" data-card id="rodape" aria-label="Informações finais">
          <div class="card-inner footer-inner">
            <p class="footer-line">
              <strong>CRP</strong> 12/09861
            </p>

            <p class="footer-line">
              © 2026 Káren Patussi – Todos os direitos reservados.
            </p>

            <p class="footer-sub">
              Atendimento online • Sigilo absoluto • Espaço seguro
            </p>

            <div class="footer-actions" aria-label="Redes sociais">
              <a class="footer-ig" href="#" aria-label="Instagram (link em breve)" title="Instagram (em breve)">
                <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm-5 4.5A5.5 5.5 0 1 1 6.5 14 5.51 5.51 0 0 1 12 8.5Zm0 2A3.5 3.5 0 1 0 15.5 14 3.5 3.5 0 0 0 12 10.5ZM18 6.8a1.2 1.2 0 1 1-1.2 1.2A1.2 1.2 0 0 1 18 6.8Z"/>
                </svg>
                <span class="footer-igText">Instagram</span>
              </a>
            </div>
          </div>
        </article>


      </div>

      <div class="track-spacer" aria-hidden="true"></div>
    </section>

    

<script>
    (() => {
      const root = document.documentElement;
      const loader = document.getElementById("loader");
      const topbar = document.getElementById("topbar");
      const overlay = document.getElementById("menuOverlay");
      const openBtn = document.getElementById("openMenu");
      const closeBtn = document.getElementById("closeMenu");
      const overlayBg = document.getElementById("overlayBg");
      const drawer = document.getElementById("drawer");
      const links = Array.from(document.querySelectorAll(".drawer-nav a[data-link]"));
      const heroStage = document.getElementById("home");
      const cardsTrack = document.getElementById("cardsTrack");
      const cards = Array.from(document.querySelectorAll("[data-card]"));
      const bubblesStage = document.getElementById("bubblesStage");
      const bubbles = [];

      const siteFooter = document.getElementById("siteFooter");
      const igLink = document.getElementById("igLink");

      const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));
      const prefersReduced = () => window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      function getMsVar(name, fallbackMs){
        const raw = getComputedStyle(root).getPropertyValue(name).trim();
        if(!raw) return fallbackMs;
        if(raw.endsWith("ms")){
          const n = parseFloat(raw);
          return Number.isFinite(n) ? n : fallbackMs;
        }
        if(raw.endsWith("s")){
          const n = parseFloat(raw);
          return Number.isFinite(n) ? (n*1000) : fallbackMs;
        }
        const n = parseFloat(raw);
        return Number.isFinite(n) ? n : fallbackMs;
      }

      function getNumVar(name, fallback){
        const v = getComputedStyle(root).getPropertyValue(name).trim();
        const n = parseFloat(v);
        return Number.isFinite(n) ? n : fallback;
      }

      links.forEach((a, i) => a.style.setProperty("--i", String(i)));

      /* ========================= BOLHAS (6) ========================= */
      const BUBBLE_NORM = [
        { x:.22, y:.24, d:0.2 },
        { x:.20, y:.50, d:1.1 },
        { x:.24, y:.76, d:2.2 },
        { x:.78, y:.24, d:0.7 },
        { x:.80, y:.50, d:1.6 },
        { x:.76, y:.76, d:2.8 },
      ];

      function buildBubbles(){
        if(!bubblesStage) return;
        bubblesStage.innerHTML = "";
        bubbles.length = 0;

        const vw = window.innerWidth || 1200;
        const vh = window.innerHeight || 800;
        const safeTop = (getNumVar("--headerH", 56) || 56) + (parseFloat(getComputedStyle(root).getPropertyValue("--safeT"))||0) + 18;
        const pad = 18;

        for(let i=0;i<BUBBLE_NORM.length;i++){
          const n = BUBBLE_NORM[i];
          const px = clamp(n.x * vw, pad, vw - pad);
          const py = clamp(n.y * vh, safeTop, vh - pad);

          const b = document.createElement("div");
          b.className = "bubble";
          b.dataset.i = String(i);
          b.dataset.cx = String(px);
          b.dataset.cy = String(py);
          b.style.left = "0px";
          b.style.top = "0px";
          b.style.setProperty("--x", String(px));
          b.style.setProperty("--y", String(py));
          b.style.setProperty("--s", "1");
          b.style.setProperty("--bo", String(getNumVar("--bubbleOpacity", .14)));
          b.style.setProperty("--bb", "0px");
          b.style.setProperty("--d", String(n.d || 0));

          bubblesStage.appendChild(b);
          bubbles.push(b);
        }
      }

      function applyBubbleState(i, st){
        const b = bubbles[i];
        if(!b) return;
        if(typeof st.x === "number") b.style.setProperty("--x", st.x.toFixed(2));
        if(typeof st.y === "number") b.style.setProperty("--y", st.y.toFixed(2));
        if(typeof st.s === "number") b.style.setProperty("--s", st.s.toFixed(4));
        if(typeof st.o === "number") b.style.setProperty("--bo", st.o.toFixed(3));
        if(typeof st.b === "number") b.style.setProperty("--bb", st.b.toFixed(2) + "px");
      }

      const cardToBubble = [0, 3, 1, 4, 2];
      const extraBubbleIndex = 5;

      function updateBubbles(flowStarted, sceneIndex, p){
        if(prefersReduced()) return;
        if(!bubbles.length) return;

        const baseO = getNumVar("--bubbleOpacity", .14);
        const activeO = getNumVar("--bubbleOpacityActive", .26);
        const popAt = clamp(getNumVar("--bubblePopAt", .34), 0.08, 0.7);
        const popScale = clamp(getNumVar("--bubblePopScale", 4.2), 2.5, 7.5);

        if(!flowStarted){
          for(let i=0;i<bubbles.length;i++){
            const cx = parseFloat(bubbles[i].dataset.cx || "0");
            const cy = parseFloat(bubbles[i].dataset.cy || "0");
            applyBubbleState(i, { x: cx, y: cy, s: 1.0, o: baseO, b: 0 });
          }
          return;
        }

        const activeBi = cardToBubble[sceneIndex] ?? 0;

        for(let i=0;i<bubbles.length;i++){
          const cx = parseFloat(bubbles[i].dataset.cx || "0");
          const cy = parseFloat(bubbles[i].dataset.cy || "0");

          if(i !== activeBi){
            const decO = baseO * (i === extraBubbleIndex ? 0.55 : 0.70);
            applyBubbleState(i, { x: cx, y: cy, s: 1.0, o: decO, b: 0.15 });
            continue;
          }

          const t = clamp(p, 0, 1);
          const local = clamp(t / popAt, 0, 1);
          const grow = 1 - Math.pow(1 - local, 3);
          const s = 1 + (popScale - 1) * grow;
          const fade = 1 - grow;
          const o = activeO * Math.max(0, fade);
          const bl = 0.2 + 1.2 * (1 - fade);

          applyBubbleState(i, { x: cx, y: cy, s, o, b: bl });
        }
      }

      /* ========================= LOADER ========================= */
      function finishLoader(){
        if(!loader) return;
        loader.classList.add("is-done");
        document.body.classList.add("is-ready");
        loader.classList.add("is-hidden");
        document.body.classList.remove("is-loading");
        const fade = getMsVar("--loaderFade", 820);
        window.setTimeout(() => { loader.style.display = "none"; }, Math.max(560, fade + 80));
      }

      const LOADER_DUR = getMsVar("--loaderDur", 3000);
      window.addEventListener("load", () => window.setTimeout(finishLoader, Math.max(3000, LOADER_DUR)), { once: true });
      if(document.readyState === "complete") window.setTimeout(finishLoader, Math.max(3000, LOADER_DUR));
      window.addEventListener("pageshow", (e) => { if(e.persisted) finishLoader(); });

      /* ========================= MENU ========================= */
      function openMenu(){
        if(overlay.classList.contains("is-open")) return;
        overlay.classList.add("is-open");
        overlay.setAttribute("aria-hidden","false");
        openBtn.setAttribute("aria-expanded", "true");
        openBtn.classList.add("is-open");
        document.body.style.overflow = "hidden";
        setTimeout(() => {
          const first = drawer.querySelector(".drawer-nav a[data-link]");
          (first || drawer).focus();
        }, 0);
      }

      function closeMenu(){
        if(!overlay.classList.contains("is-open")) return;
        overlay.classList.remove("is-open");
        overlay.setAttribute("aria-hidden","true");
        openBtn.setAttribute("aria-expanded", "false");
        openBtn.classList.remove("is-open");
        document.body.style.overflow = "";
      }

      openBtn.addEventListener("click", () => overlay.classList.contains("is-open") ? closeMenu() : openMenu());
      closeBtn.addEventListener("click", closeMenu);
      overlayBg.addEventListener("click", closeMenu);
      window.addEventListener("keydown", (e) => { if(e.key === "Escape" && overlay.classList.contains("is-open")) closeMenu(); });

      /* ========================= FOOTER IG PLACEHOLDER ========================= */
      if(igLink){
        igLink.addEventListener("click", (e) => {
          const href = (igLink.getAttribute("href") || "").trim();
          if(!href || href === "#") e.preventDefault();
        });
      }

      /* ========================= HERO (2 scrolls até o Sobre) ========================= */
      let step = 0, accum = 0, locked = false, animating = false, lastDir = 0, cooldownUntil = 0;
      let flowStarted = false;
      let autoRoleTimer = 0;
      let autoRolePending = false;

      function inHeroViewport(){
        const r = heroStage.getBoundingClientRect();
        const vh = window.innerHeight || 800;
        return (r.top <= vh * 0.35 && r.bottom >= vh * 0.65);
      }

      function lockBody(){
        if(locked) return;
        locked = true;
        document.body.classList.add("is-locked");
      }

      function unlockBody(){
        locked = false;
        document.body.classList.remove("is-locked");
      }

      function applyHeroState(){
        const liftName = getNumVar("--liftName", 140);
        const liftRole = getNumVar("--liftRole", 120);
        const blurMax = getNumVar("--fadeBlur", 1.6);

        let nameY = 0, nameO = 1, nameB = 0;
        let roleY = 0, roleO = 1, roleB = 0;

        if(step >= 1){ nameY = -liftName; nameO = 0; nameB = blurMax; }
        if(step >= 2){ roleY = -liftRole; roleO = 0; roleB = blurMax * 0.9; }

        root.style.setProperty("--nameY", nameY + "px");
        root.style.setProperty("--nameO", String(nameO));
        root.style.setProperty("--nameB", nameB + "px");
        root.style.setProperty("--roleY", roleY + "px");
        root.style.setProperty("--roleO", String(roleO));
        root.style.setProperty("--roleB", roleB + "px");

        topbar.classList.toggle("show-brand", flowStarted || step >= 1);
      }

      function setCooldown(){
        const cd = getMsVar("--stepCooldown", 70);
        cooldownUntil = performance.now() + cd;
      }

      function stepDurationMs(nextStep){
        if(nextStep === 1) return getMsVar("--easeDurName", 900);
        if(nextStep === 2) return getMsVar("--easeDurRole", 1500);
        return 900;
      }

      function clearAutoRole(){
        if(autoRoleTimer) window.clearTimeout(autoRoleTimer);
        autoRoleTimer = 0;
        autoRolePending = false;
      }

      function scheduleAutoRole(){
        if(step !== 1) return;
        if(autoRolePending) return;
        autoRolePending = true;

        const nameDur = stepDurationMs(1);
        autoRoleTimer = window.setTimeout(() => {
          autoRoleTimer = 0;
          autoRolePending = false;
          if(flowStarted) return;
          lockBody();
          animateToStep(2).then(() => unlockBody());
        }, Math.max(320, nameDur + 80));
      }

      function animateToStep(next){
        if(animating) return Promise.resolve();
        animating = true;

        const dur = stepDurationMs(next);
        step = clamp(next, 0, 2);
        applyHeroState();
        setCooldown();

        if(step === 1) scheduleAutoRole();
        else clearAutoRole();

        return new Promise((resolve) => {
          window.setTimeout(() => {
            animating = false;
            if(step >= 2) handoffToCards();
            else unlockBody();
            resolve();
          }, dur + 40);
        });
      }

      function handleDelta(deltaY){
        const now = performance.now();
        if(now < cooldownUntil) return;

        const deadZone = Math.max(0, getNumVar("--deadZone", 2.5));
        if(Math.abs(deltaY) < deadZone) return;

        const dir = deltaY > 0 ? +1 : -1;
        if(lastDir !== 0 && dir !== lastDir) accum = 0;
        lastDir = dir;

        const down = Math.max(160, getNumVar("--stepDistanceDown", 320));
        const up = Math.max(180, getNumVar("--stepDistanceUp", 380));

        accum += deltaY;

        if(accum >= down){
          accum = 0;
          if(step === 1 && autoRolePending) return;
          if(step < 2){ lockBody(); animateToStep(step + 1); }
          return;
        }

        if(accum <= -up){
          accum = 0;
          if(step === 1 && autoRolePending) clearAutoRole();
          if(step > 0){ lockBody(); animateToStep(step - 1); }
          return;
        }
      }

      /* ========================= CARDS FLOW ========================= */
      let sceneIndex = 0;
      let phase = "closed";
      let lockedUntil = 0;
      let p = 0;
      let pTarget = 0;
      let raf = 0;
      let lastFrame = performance.now();
      let wheelAccum = 0;
      let pendingDir = +1;
      let returnToHeroAfterClose = false;

      function smoothAlpha(lag){
        const now = performance.now();
        const dt = Math.min(0.05, Math.max(0.008, (now - lastFrame) / 1000));
        lastFrame = now;
        const k = 8.0 * (1 - lag) + 2.8;
        return 1 - Math.exp(-k * dt);
      }

      function setActiveCardClass(){
        cards.forEach((c, i) => c.classList.toggle("is-active", flowStarted && i === sceneIndex && p >= 0.96));
      }

      function hideAllCards(){
        for(const c of cards){
          c.style.setProperty("--p","0");
          c.style.setProperty("--o","0");
          c.style.setProperty("--wPx","160");
          c.style.setProperty("--xPx","0");
          c.style.setProperty("--yPx","0");
          c.style.setProperty("--s","0.992");
          c.style.zIndex = "10";
        }
        setActiveCardClass();
      }

      function easeOutCubic(t){ return 1 - Math.pow(1 - t, 3); }
      function easeOutQuad(t){ return 1 - (1 - t) * (1 - t); }
      function mix(a,b,t){ return a + (b - a) * t; }

      function getSpawnForScene(i, vw, vh){
        const headerPx = (getNumVar("--headerH", 56) || 56) + (parseFloat(getComputedStyle(root).getPropertyValue("--safeT"))||0);
        const topSafe = Math.max(84, headerPx + 38);
        const isMobile = vw <= 720;

        const leftX = isMobile ? -vw * 0.34 : -vw * 0.42;
        const rightX = isMobile ? vw * 0.34 : vw * 0.42;

        const topY = -Math.min(vh * (isMobile ? 0.32 : 0.42), topSafe + vh * (isMobile ? 0.16 : 0.22));
        const midY = 0;
        const botY = Math.min(vh * (isMobile ? 0.20 : 0.30), isMobile ? 170 : 220);

        const map = [
          { x: leftX, y: topY },   // Sobre
          { x: rightX, y: topY },  // Como funciona
          { x: leftX, y: midY },   // Áreas
          { x: rightX, y: midY },  // FAQ
          { x: leftX, y: botY },   // Contato
          { x: 0, y: botY + (isMobile ? 120 : 150) }, // Rodapé
        ];
        return map[i] || map[0];
      }

      function applyCardStyles(activeCard, pNow){
        const vw = window.innerWidth || 1200;
        const vh = window.innerHeight || 800;

        const wFromVw = Math.max(4, getNumVar("--cardFromVw", 10));
        const wFullVw = Math.max(wFromVw, getNumVar("--cardFullVw", 92));
        const maxW = Math.max(620, getNumVar("--cardMaxW", 980));

        const wFromPx = vw * (wFromVw / 100);
        const wFullPx = Math.min(maxW, vw * (wFullVw / 100));

        const tSlide = easeOutCubic(clamp(pNow, 0, 1));
        const tFade = easeOutQuad(clamp((pNow - 0.03) / 0.97, 0, 1));

        const w = wFromPx + (wFullPx - wFromPx) * tSlide;
        const spawn = getSpawnForScene(sceneIndex, vw, vh);
        const x = mix(spawn.x, 0, tSlide);
        const y = mix(spawn.y, 0, tSlide);

        const o = clamp(mix(0.02, 1.0, tFade), 0, 1);
        const s = 0.992 + 0.008 * tSlide;

        activeCard.style.setProperty("--p", pNow.toFixed(3));
        activeCard.style.setProperty("--o", o.toFixed(3));
        activeCard.style.setProperty("--wPx", w.toFixed(2));
        activeCard.style.setProperty("--xPx", x.toFixed(2));
        activeCard.style.setProperty("--yPx", y.toFixed(2));
        activeCard.style.setProperty("--s", s.toFixed(4));
        activeCard.style.zIndex = "30";

        setActiveCardClass();
      }

      function scheduleRender(){
        if(raf) return;
        raf = requestAnimationFrame(() => {
          raf = 0;
          render();
        });
      }

      function canTrigger(){
        if(prefersReduced()) return false;
        if(overlay.classList.contains("is-open")) return false;
        return performance.now() >= lockedUntil;
      }

      function setLock(){
        const ms = Math.max(520, getMsVar("--sceneLockMs", 1350));
        lockedUntil = performance.now() + ms;
      }

      function resetActiveScroll(){
        const active = cards[sceneIndex];
        if(!active) return;
        const sc = active.querySelector("[data-scroll]");
        if(sc) sc.scrollTop = 0;
      }

      function closeScene(){
        phase = "closing";
        pTarget = 0;
        scheduleRender();
      }

      function handoffToCards(){
        if(flowStarted) return;
      setFooterDocked(false);
        flowStarted = true;
        topbar.classList.add("show-brand");

        lockBody();

        const y = cardsTrack.getBoundingClientRect().top + window.scrollY;
        window.scrollTo({ top: y + 1, behavior: "auto" });

        sceneIndex = 0;
        returnToHeroAfterClose = false;
        setLock();

        p = 0;
        pTarget = 0;
        phase = "closed";

        hideAllCards();
        resetActiveScroll();

        requestAnimationFrame(() => {
          p = 0;
          pTarget = 1;
          phase = "opening";
          scheduleRender();
          unlockBody();
        });
      }

      async function returnToHeroWithSameMotion(){
      setFooterDocked(false);
        flowStarted = false;
        clearAutoRole();
        step = 2;
        applyHeroState();
        hideAllCards();
        topbar.classList.remove("show-brand");

        document.getElementById("home").scrollIntoView({ behavior:"smooth", block:"start" });

        await new Promise(r => requestAnimationFrame(() => requestAnimationFrame(r)));

        lockBody();
        await animateToStep(1);
        await animateToStep(0);
        unlockBody();
      }

      function requestNext(){
        if(!canTrigger()) return;
        if(phase === "opening") return;
        if(footerDocked) return; // ✅ já estamos no fim
        setLock();
        closeScene();
        pendingDir = +1;
        returnToHeroAfterClose = false;
      }

      function requestPrev(){
      if(!canTrigger()) return;
      if(footerDocked) return; // ✅ travado no fim
        if(phase === "opening") return;

        if(sceneIndex === 0){
          setLock();
          closeScene();
          pendingDir = -1;
          returnToHeroAfterClose = true;
          return;
        }

        setLock();
        closeScene();
        pendingDir = -1;
        returnToHeroAfterClose = false;
      }

      /* ✅ FOOTER gate: só libera quando o último card estiver 100% aberto */
      
    /* ========================= FOOTER DOCK (após fechar o último card) ========================= */
    // ========================= FOOTER DOCK (card final fixo na tela) =========================
// Regra: quando chegar no último card e ele abrir, o rodapé "doca" e fica fixo.
// Não existe "auto-undock" por scroll — só sai se você navegar para outro trecho (menu/home).
let footerDocked = false;

function setFooterDocked(v){
  const next = !!v;
  if(next === footerDocked) return;

  footerDocked = next;
  document.body.classList.toggle("footer-docked", footerDocked);

  if(footerDocked){
    document.body.classList.add("footer-ready");
    lockBody(); // trava scroll/gestos
  } else {
    document.body.classList.remove("footer-ready");
    unlockBody();
  }
}

function updateFooterGate(){
  // latch: uma vez dockado, não solta mais automaticamente
  if(footerDocked) return;

  const isLast = flowStarted && sceneIndex === (cards.length - 1);
  const openingOrOpen = (phase === "open" || phase === "opening");
  const fullyOpen = (openingOrOpen && p >= 0.97 && pTarget >= 0.999);

  if(isLast && fullyOpen){
    setFooterDocked(true);
  }
}

function render(){

// ✅ se o rodapé estiver dockado, ele vira a "tela final" e não some mais
if(footerDocked){
  const lastIdx = cards.length - 1;
  sceneIndex = lastIdx;
  flowStarted = true;
  phase = "open";
  p = 1; pTarget = 1;

  hideAllCards();
  const last = cards[lastIdx];
  if(last) applyCardStyles(last, 1);

  updateBubbles(flowStarted, sceneIndex, 1);
  return;
}

        if(prefersReduced()){
          hideAllCards();
          if(flowStarted){
            const c = cards[sceneIndex] || cards[0];
            c.style.setProperty("--p","1");
            c.style.setProperty("--o","1");
            c.style.setProperty("--wPx","760");
            c.style.setProperty("--xPx","0");
            c.style.setProperty("--yPx","0");
            c.style.setProperty("--s","1");
            c.style.zIndex = "30";
            setActiveCardClass();
          }
          updateFooterGate();
          return;
        }

        const aCard = smoothAlpha(clamp(getNumVar("--cardLag", 0.55), 0.18, 0.72));
        p = p + (pTarget - p) * aCard;
        if(Math.abs(p - pTarget) < 0.0014) p = pTarget;

        hideAllCards();

        if(flowStarted){
          const active = cards[sceneIndex];
          if(active) applyCardStyles(active, p);
        }

        if(phase === "opening" && p >= 1) phase = "open";

        if(phase === "closing" && p <= 0){
          if(returnToHeroAfterClose){
            returnToHeroAfterClose = false;
            phase = "closed";
            p = 0; pTarget = 0;
            hideAllCards();
            updateBubbles(flowStarted, sceneIndex, p);
            updateFooterGate();
            returnToHeroWithSameMotion();
            return;
          }

          const nextIdx = clamp(sceneIndex + pendingDir, 0, cards.length - 1);
          if(nextIdx !== sceneIndex){
            sceneIndex = nextIdx;
            phase = "opening";
            pTarget = 1;
            resetActiveScroll();
          } else {
          phase = "closed";
          const lastIdx = cards.length - 1;
          if(sceneIndex === lastIdx && pendingDir === +1){
            setFooterDocked(true);
          }
        }
        }

        updateBubbles(flowStarted, sceneIndex, p);
        updateFooterGate();

        const needsMore = Math.abs(p - pTarget) > 0.001 || phase === "opening" || phase === "closing";
        if(needsMore) scheduleRender();
      }

      function scaledWheelDelta(e){
        let dy = e.deltaY;
        if(e.deltaMode === 1) dy *= 16;
        else if(e.deltaMode === 2) dy *= (window.innerHeight || 800);
        const base = clamp(getNumVar("--wheelScale", 0.55), 0.2, 1.2);
        return dy * base;
      }

      function tryScrollInsideActiveCard(dy){
        const active = cards[sceneIndex];
        if(!active) return { used: false, atEdge: true };
        const sc = active.querySelector("[data-scroll]");
        if(!sc) return { used: false, atEdge: true };

        const max = sc.scrollHeight - sc.clientHeight;
        const hasScroll = max > 2;
        if(!hasScroll) return { used: false, atEdge: true };

        const before = sc.scrollTop;
        sc.scrollTop = clamp(before + dy, 0, max);
        const after = sc.scrollTop;

        const moved = Math.abs(after - before) > 0.5;
        const atTop = after <= 0.5;
        const atBottom = after >= (max - 0.5);
        const atEdge = dy > 0 ? atBottom : atTop;

        return { used: true, moved, atEdge };
      }

      window.addEventListener("wheel", (e) => {
        if(document.body.classList.contains("is-loading")) return;
        if(overlay.classList.contains("is-open")) return;

        if(flowStarted && !prefersReduced()){
          if(e.ctrlKey) return;
          e.preventDefault();

          const dy = scaledWheelDelta(e);

          // ✅ fim do scroll: com o card final dockado, ignora scroll para baixo
          if(footerDocked){ e.preventDefault(); wheelAccum = 0; scheduleRender(); return; }

          const res = tryScrollInsideActiveCard(dy);
          if(res.used && res.moved){
            scheduleRender();
            return;
          }

          wheelAccum += dy;
          const trigger = Math.max(70, getNumVar("--wheelTrigger", 135));
          const allowKnob = (!res.used) || (res.used && res.atEdge);

          if(allowKnob && Math.abs(wheelAccum) >= trigger){
            if(wheelAccum > 0) requestNext();
            else requestPrev();
            wheelAccum = 0;
          }

          scheduleRender();
          return;
        }

        if(flowStarted) return;
        if(!inHeroViewport()) return;

        e.preventDefault();
        lockBody();
        handleDelta(e.deltaY);
      }, { passive: false });

      let touchY = null;
      let touchAccum = 0;

      window.addEventListener("touchstart", (e) => {
        if(document.body.classList.contains("is-loading")) return;
        if(e.touches && e.touches.length){
          touchY = e.touches[0].clientY;
          touchAccum = 0;
        }
      }, { passive: true });

      window.addEventListener("touchmove", (e) => {
        if(document.body.classList.contains("is-loading")) return;
        if(overlay.classList.contains("is-open")) return;
        if(touchY == null) return;

        const yy = (e.touches && e.touches.length) ? e.touches[0].clientY : touchY;
        const dy = touchY - yy;
        touchY = yy;

        if(flowStarted && !prefersReduced()){
          e.preventDefault();

          // ✅ fim do scroll: com o card final dockado, ignora gesto para baixo
          if(footerDocked){ e.preventDefault(); touchAccum = 0; scheduleRender(); return; }

          const res = tryScrollInsideActiveCard(dy);
          if(res.used && res.moved){
            scheduleRender();
            return;
          }

          touchAccum += dy;
          const TRIGGER = 64;
          const allowKnob = (!res.used) || (res.used && res.atEdge);

          if(allowKnob && Math.abs(touchAccum) >= TRIGGER){
            if(touchAccum > 0) requestNext();
            else requestPrev();
            touchAccum = 0;
          }

          scheduleRender();
          return;
        }

        if(!flowStarted && inHeroViewport()){
          e.preventDefault();
          lockBody();
          handleDelta(dy * 1.65);
        }
      }, { passive: false });

      window.addEventListener("touchend", () => { touchY = null; touchAccum = 0; }, { passive: true });

      function goToScene(i){
      setFooterDocked(false);
        if(i < 0){ returnToHeroWithSameMotion(); return; }

        if(!flowStarted){
          clearAutoRole();
          step = 2;
          applyHeroState();
          flowStarted = true;
          topbar.classList.add("show-brand");
        }

        sceneIndex = clamp(i, 0, cards.length - 1);
        setLock();
        p = 0;
        pTarget = 1;
        phase = "opening";

        const y = cardsTrack.getBoundingClientRect().top + window.scrollY;
        window.scrollTo({ top: y + 1, behavior: "smooth" });
        resetActiveScroll();
        scheduleRender();
      }

      links.forEach(a => a.addEventListener("click", (e) => {
        e.preventDefault();
        const idx = parseInt(a.dataset.index || "-1", 10);
        closeMenu();
        unlockBody();
        requestAnimationFrame(() => setTimeout(() => goToScene(idx), 40));
      }));

      window.addEventListener("resize", () => { buildBubbles(); scheduleRender(); }, { passive:true });

      /* ========================= CONTATO ========================= */
      const CONTACT = {
        // ✅ Troque pelos dados reais:
        // Ex.: "5551999999999" (55 + DDD + número) só números
        phoneDigits: "55DDDN9XXXXXXX",
        email: "karen@seudominio.com"
      };

      const btnToggleForm = document.getElementById("btnToggleForm");
      const contactPanel = document.getElementById("contactPanel");

      function waUrl(message){
        const base = `https://wa.me/${CONTACT.phoneDigits}`;
        const txt = encodeURIComponent(message || "");
        return `${base}?text=${txt}`;
      }

      function getSelectedRadio(name){
        const el = document.querySelector(`input[name="${name}"]:checked`);
        return el ? el.value : "";
      }

      function buildContactMessage(){
        const name = (document.getElementById("fName")?.value || "").trim();
        const whats = (document.getElementById("fWhats")?.value || "").trim();
        const mode = getSelectedRadio("mode");
        const period = document.getElementById("fPeriod")?.value || "";
        const day = document.getElementById("fDay")?.value || "";
        const msg = (document.getElementById("fMsg")?.value || "").trim();

        return [
          "Olá, Káren! Gostaria de solicitar um agendamento.",
          "",
          `Nome: ${name || "-"}`,
          `WhatsApp: ${whats || "-"}`,
          `Preferência: ${mode || "-"}`,
          `Dia/Período: ${day || "-"} / ${period || "-"}`,
          msg ? `Mensagem: ${msg}` : null,
        ].filter(Boolean).join("\n");
      }

      function validateContactForm(){
        const name = (document.getElementById("fName")?.value || "").trim();
        const whats = (document.getElementById("fWhats")?.value || "").trim();
        const consent = document.getElementById("fConsent")?.checked;

        if(!name){ alert("Por favor, informe seu nome."); return false; }
        if(!whats){ alert("Por favor, informe seu WhatsApp."); return false; }
        if(!consent){ alert("Para enviar, marque o consentimento (LGPD)."); return false; }
        return true;
      }

      function openPanel(){
        if(!contactPanel) return;
        contactPanel.classList.add("is-open");
        contactPanel.setAttribute("aria-hidden","false");
        btnToggleForm?.setAttribute("aria-expanded","true");
        if(btnToggleForm){
          btnToggleForm.innerHTML = `
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 13H5v-2h14v2z"/></svg>
            Fechar formulário
          `;
        }
        requestAnimationFrame(() => {
          const first = document.getElementById("fName");
          if(first) first.focus({ preventScroll: true });
        });
      }

      function closePanel(){
        if(!contactPanel) return;
        contactPanel.classList.remove("is-open");
        contactPanel.setAttribute("aria-hidden","true");
        btnToggleForm?.setAttribute("aria-expanded","false");
        if(btnToggleForm){
          btnToggleForm.innerHTML = `
            <svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h18v2H3V3zm2 4h14v14H5V7zm2 2v2h10V9H7zm0 4v2h10v-2H7z"/></svg>
            Abrir formulário
          `;
        }
      }

      function togglePanel(){
        if(!contactPanel) return;
        const open = contactPanel.classList.contains("is-open");
        open ? closePanel() : openPanel();
      }

      function initContact(){
        if(btnToggleForm) btnToggleForm.addEventListener("click", togglePanel);

        const btnW = document.getElementById("btnWhats");
        const btnM = document.getElementById("btnMail");

        if(btnW){
          btnW.addEventListener("click", () => {
            if(!validateContactForm()) return;
            const text = buildContactMessage();
            window.open(waUrl(text), "_blank", "noopener");
          });
        }

        if(btnM){
          btnM.addEventListener("click", () => {
            if(!validateContactForm()) return;
            const body = buildContactMessage();
            const subject = "Solicitação de agendamento";
            window.location.href = `mailto:${CONTACT.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
          });
        }
      }

      // init
      buildBubbles();
      applyHeroState();
      hideAllCards();
      updateBubbles(flowStarted, 0, 0);
      updateFooterGate();
      scheduleRender();
      initContact();
    })();
  </script>
</body>
</html>
